
<!-- Same as Skill input, but different top level div classes-->
<div class="page-container">
  <input class="input-hidden tabstoggle" type="hidden" name="attr_sheetTab" value="basic" hidden="hidden" readonly="readonly"/>
  <div class="header">
    <div class="row-tall border-bottom-long">
      <div class="col-third border-right logo"></div>
      <div class="col-third headlabel border-right"> 
        <div class="label-caps">Name</div>
        <input class="input-text" type="text" name="attr_character_name"/>
      </div>
      <div class="col-quarter headlabel border-right"> 
        <div class="label-caps">Nationality</div>
        <input class="input-text" type="text" name="attr_attr_nationality"/>
      </div>
      <div class="col-14th headlabel"> 
        <div class="label-caps">Age</div>
        <input class="input-text" type="text" name="attr_attr_age"/>
      </div>
    </div>
    <div class="row-tall border-bottom-long">
      <div class="col-third border-right">
        <div class="label-caps">Branch</div>
        <input class="input-text" type="text" name="attr_attr_branch"/>
      </div>
      <div class="col-twothird headlabel"> 
        <div class="label-caps">Appearance</div>
        <input class="input-text" type="text" name="attr_attr_appearance"/>
      </div>
    </div>
    <div class="row-tall border-bottom-long">
      <div class="col-third headlabel border-right"> 
        <div class="label-caps">Military Rank</div>
        <input class="input-text" type="text" name="attr_attr_militaryrank"/>
      </div>
      <div class="col-twothird headlabel"> 
        <div class="label-caps">Moral code</div>
        <input class="input-text" type="text" name="attr_attr_moralcode"/>
      </div>
    </div>
    <div class="row-tall border-bottom-long">
      <div class="col-third headlabel border-right"> 
        <div class="label-caps">Buddy</div>
        <input class="input-text" type="text" name="attr_attr_buddy"/>
      </div>
      <div class="col-twothird headlabel">
        <div class="label-caps">Big dream</div>
        <input class="input-text" type="text" name="attr_attr_bigdream"/>
      </div>
    </div>
    <div class="row-tall border-bottom-long">
      <div class="col-twothird headlabel border-right"> 
        <div class="label-caps">How I met the group</div>
        <input class="input-text" type="text" name="attr_attr_howyoumetthegroup"/>
      </div>
      <div class="col-third headlabel">
        <div class="row-whole">
          <div class="col-half flex-row">
            <div class="label">Current</div>
            <input class="input-number" type="number" name="attr_currentexperience"/>
          </div>
          <div class="col-half flex-row">
            <div class="label">Total</div>
            <input class="input-number" type="number" name="attr_totalexperience"/>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="tabs row-tall row-100pc border-bottom-long tab-buttons-container">
    <input class="input-hidden tabstoggle" type="hidden" name="attr_sheetTab" value="basic" hidden="hidden" readonly="readonly"/>
    <button class="tab main-buttons button-basic" type="action" name="act_basic">Attributes &lt;br/&gt; and Skills</button>
    <button class="tab main-buttons button-combat" type="action" name="act_combat">Combat</button>
    <button class="tab main-buttons button-action" type="action" name="act_action">Action</button>
    <button class="tab main-buttons button-gear" type="action" name="act_gear">Gear</button>
    <button class="tab main-buttons button-vehicle" type="action" name="act_vehicle">Vehicle</button>
    <button class="tab main-buttons button-stockpile" type="action" name="act_stockpile">Stockpile</button>
  </div>
  <div class="basic">
    <div class="row-tall border-bottom-long background-tan flex-wrap">
      <div class="row-whole"></div>
      <div class="row-whole flex-column flex1 label-caps">Attributes and Skills </div>
      <div class="row-whole-nopad flex-column no-marg no-pad flex1">
        <div class="col-quarter flex-row">
          <div class="row-fill no-marg border-right middle right">&amp;nbsp;</div>
          <div class="col-46px col-flex no-marg border-right middle right smallcaps">RATING</div>
          <div class="col-46px col-flex no-marg border-right middle right smallcaps">BASE</div>
        </div>
        <div class="col-quarter flex-row">
          <div class="row-fill no-marg border-right middle right">&amp;nbsp;</div>
          <div class="col-46px col-flex no-marg border-right middle right smallcaps">RATING</div>
          <div class="col-46px col-flex no-marg border-right middle right smallcaps">BASE</div>
        </div>
        <div class="col-quarter flex-row">
          <div class="row-fill no-marg border-right middle right">&amp;nbsp;</div>
          <div class="col-46px col-flex no-marg border-right middle right smallcaps">RATING</div>
          <div class="col-46px col-flex no-marg border-right middle right smallcaps">BASE</div>
        </div>
        <div class="col-quarter flex-row">
          <div class="row-fill no-marg border-right middle right">&amp;nbsp;</div>
          <div class="col-46px col-flex no-marg border-right middle right smallcaps">RATING</div>
          <div class="col-46px col-flex no-marg border-right middle right smallcaps">BASE</div>
        </div>
      </div>
    </div>
    <div class="row-tall attributesskills border-bottom-long">
      <div class="col-quarter border-right flex-column">
        <div class="col-whole flex-row no-marg">
          <div class="row-whole">
            <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3"> 
              <button class="label-caps row-fill strength-attribute attribute-button" type="roll" name="roll_strength" id="roll_strength" value="&amp;{template:t2k} {{character-name=@{character_name} }} {{roll-name=strength}} {{roll-die-one=[[1d@{strengthdie}]] }} {{roll-one-type=[[@{strengthdie}]]}}">Strength</button>
              <!--span(title=titl,for='roll_'+attribute)= label -->
            </div>
            <select class="attribute" name="attr_strength" value="C">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
            </select>
            <!-- Attribute die size, e.g. 8, *calculated through sheetworker-->
            <input class="input-hidden attribute" type="hidden" name="attr_attr_strengthdie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
            <!-- Attribute die type. e.g. D8, calculated through sheetworker-->
            <input class="input-hidden attribute" type="hidden" name="attr_attr_strengthdietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_strengthdietype"></span>
          </div>
          <div class="row-whole row-fill middle"> 
            <input class="hidden" id="heavyweapons" name="act_heavyweapons" type="checkbox" value="1"/>
            <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3">
              <label class="label" title="Use the HEAVY WEAPONS skill to fire machine guns, rocket launchers, mortars, tank guns, howitzers, and other heavy weapons. Sp" for="heavyweapons">Heavy Weapons</label>
            </div>
            <select class="skill" name="attr_heavyweapons" value="F">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="F">F</option>
            </select>
            <!-- Skill die size, e.g. 8, *calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_heavyweaponsdie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
            <!-- Skill die type. e.g. D8, calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_heavyweaponsdietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_heavyweaponsdietype"></span>
          </div>
          <div class="row-whole row-fill middle"> 
            <input class="hidden" id="closecombat" name="act_closecombat" type="checkbox" value="1"/>
            <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3">
              <label class="label" title="Use MELEE when fighting an enemy up close and personal, with or without a melee weapon in hand. If" for="closecombat">Melee</label>
            </div>
            <select class="skill" name="attr_closecombat" value="F">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="F">F</option>
            </select>
            <!-- Skill die size, e.g. 8, *calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_closecombatdie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
            <!-- Skill die type. e.g. D8, calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_closecombatdietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_closecombatdietype"></span>
          </div>
          <div class="row-whole row-fill middle"> 
            <input class="hidden" id="stamina" name="act_stamina" type="checkbox" value="1"/>
            <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3">
              <label class="label" title="When your physical toughness or endurance is tested, roll for STAMINA" for="stamina">Stamina</label>
            </div>
            <select class="skill" name="attr_stamina" value="F">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="F">F</option>
            </select>
            <!-- Skill die size, e.g. 8, *calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_staminadie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
            <!-- Skill die type. e.g. D8, calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_staminadietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_staminadietype"></span>
          </div>
          <div class="row-whole condition">
            <div class="label row-fill right">Starving</div>
            <input class="numbered-box grey-box condition" type="checkbox" name="attr_starving"/><span title="+"></span>
          </div>
        </div>
      </div>
      <div class="col-quarter border-right flex-column">
        <div class="col-whole flex-row"> 
          <div class="row-whole">
            <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3"> 
              <button class="label-caps row-fill strength-attribute attribute-button" type="roll" name="roll_agility" id="roll_agility" value="&amp;{template:t2k} {{character-name=@{character_name} }} {{roll-name=agility}} {{roll-die-one=[[1d@{agilitydie}]] }} {{roll-one-type=[[@{agilitydie}]]}}">Agility</button>
              <!--span(title=titl,for='roll_'+attribute)= label -->
            </div>
            <select class="attribute" name="attr_agility" value="C">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
            </select>
            <!-- Attribute die size, e.g. 8, *calculated through sheetworker-->
            <input class="input-hidden attribute" type="hidden" name="attr_attr_agilitydie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
            <!-- Attribute die type. e.g. D8, calculated through sheetworker-->
            <input class="input-hidden attribute" type="hidden" name="attr_attr_agilitydietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_agilitydietype"></span>
          </div>
          <div class="row-whole row-fill middle"> 
            <input class="hidden" id="driving" name="act_driving" type="checkbox" value="1"/>
            <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3">
              <label class="label" title="Use the DRIVING skill to maneuver motorcycles, cars, armored personnel carriers and even tanks. " for="driving">Driving</label>
            </div>
            <select class="skill" name="attr_driving" value="F">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="F">F</option>
            </select>
            <!-- Skill die size, e.g. 8, *calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_drivingdie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
            <!-- Skill die type. e.g. D8, calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_drivingdietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_drivingdietype"></span>
          </div>
          <div class="row-whole row-fill middle"> 
            <input class="hidden" id="mobility" name="act_mobility" type="checkbox" value="1"/>
            <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3">
              <label class="label" title="When you jump, climb, run fast, or perform any other action that requires speed or motor control, you roll MOBILITY." for="mobility">Mobility</label>
            </div>
            <select class="skill" name="attr_mobility" value="F">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="F">F</option>
            </select>
            <!-- Skill die size, e.g. 8, *calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_mobilitydie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
            <!-- Skill die type. e.g. D8, calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_mobilitydietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_mobilitydietype"></span>
          </div>
          <div class="row-whole row-fill middle"> 
            <input class="hidden" id="rangedcombat" name="act_rangedcombat" type="checkbox" value="1"/>
            <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3">
              <label class="label" title="Use the RANGED COMBAT skill to use hand-held ranged weapons, such as pistols, bows, submachineguns, and assault rifles. " for="rangedcombat">Ranged Combat</label>
            </div>
            <select class="skill" name="attr_rangedcombat" value="F">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="F">F</option>
            </select>
            <!-- Skill die size, e.g. 8, *calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_rangedcombatdie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
            <!-- Skill die type. e.g. D8, calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_rangedcombatdietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_rangedcombatdietype"></span>
          </div>
          <div class="row-whole condition">
            <div class="label row-fill right">Dehydrated</div>
            <input class="numbered-box grey-box condition" type="checkbox" name="attr_dehydrated"/><span title="+"></span>
          </div>
        </div>
      </div>
      <div class="col-quarter border-right flex-column">
        <div class="col-whole flex-row"> 
          <div class="row-whole">
            <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3"> 
              <button class="label-caps row-fill strength-attribute attribute-button" type="roll" name="roll_intelligence" id="roll_intelligence" value="&amp;{template:t2k} {{character-name=@{character_name} }} {{roll-name=intelligence}} {{roll-die-one=[[1d@{intelligencedie}]] }} {{roll-one-type=[[@{intelligencedie}]]}}">Intelligence</button>
              <!--span(title=titl,for='roll_'+attribute)= label -->
            </div>
            <select class="attribute" name="attr_intelligence" value="C">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
            </select>
            <!-- Attribute die size, e.g. 8, *calculated through sheetworker-->
            <input class="input-hidden attribute" type="hidden" name="attr_attr_intelligencedie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
            <!-- Attribute die type. e.g. D8, calculated through sheetworker-->
            <input class="input-hidden attribute" type="hidden" name="attr_attr_intelligencedietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_intelligencedietype"></span>
          </div>
          <div class="row-whole row-fill middle"> 
            <input class="hidden" id="recon" name="act_recon" type="checkbox" value="1"/>
            <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3">
              <label class="label" title="Use the RECON skill to spot concealed enemies, avoid ambushes, move silently and avoid being detected. " for="recon">Recon</label>
            </div>
            <select class="skill" name="attr_recon" value="F">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="F">F</option>
            </select>
            <!-- Skill die size, e.g. 8, *calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_recondie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
            <!-- Skill die type. e.g. D8, calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_recondietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_recondietype"></span>
          </div>
          <div class="row-whole row-fill middle"> 
            <input class="hidden" id="survival" name="act_survival" type="checkbox" value="1"/>
            <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3">
              <label class="label" title="o survive, you need to know how to find food and shelter in the wild. You can roll SURVIVAL in a number of different situations  when  you  are  traveling.  R" for="survival">Survival</label>
            </div>
            <select class="skill" name="attr_survival" value="F">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="F">F</option>
            </select>
            <!-- Skill die size, e.g. 8, *calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_survivaldie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
            <!-- Skill die type. e.g. D8, calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_survivaldietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_survivaldietype"></span>
          </div>
          <div class="row-whole row-fill middle"> 
            <input class="hidden" id="tech" name="act_tech" type="checkbox" value="1"/>
            <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3">
              <label class="label" title="Use the TECH skill to repair gear and scavenge parts. You can even use the skill to craft new items if you have access to a workshop. " for="tech">Tech</label>
            </div>
            <select class="skill" name="attr_tech" value="F">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="F">F</option>
            </select>
            <!-- Skill die size, e.g. 8, *calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_techdie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
            <!-- Skill die type. e.g. D8, calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_techdietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_techdietype"></span>
          </div>
          <div class="row-whole condition">
            <div class="label row-fill right">Sleep Deprived</div>
            <input class="numbered-box grey-box condition" type="checkbox" name="attr_sleep_deprived"/><span title="+"></span>
          </div>
        </div>
      </div>
      <div class="col-quarter border-right flex-column">
        <div class="col-whole flex-row"> 
          <div class="row-whole">
            <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3"> 
              <button class="label-caps row-fill strength-attribute attribute-button" type="roll" name="roll_empathy" id="roll_empathy" value="&amp;{template:t2k} {{character-name=@{character_name} }} {{roll-name=empathy}} {{roll-die-one=[[1d@{empathydie}]] }} {{roll-one-type=[[@{empathydie}]]}}">Empathy</button>
              <!--span(title=titl,for='roll_'+attribute)= label -->
            </div>
            <select class="attribute" name="attr_empathy" value="C">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
            </select>
            <!-- Attribute die size, e.g. 8, *calculated through sheetworker-->
            <input class="input-hidden attribute" type="hidden" name="attr_attr_empathydie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
            <!-- Attribute die type. e.g. D8, calculated through sheetworker-->
            <input class="input-hidden attribute" type="hidden" name="attr_attr_empathydietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_empathydietype"></span>
          </div>
          <div class="row-whole row-fill middle"> 
            <input class="hidden" id="command" name="act_command" type="checkbox" value="1"/>
            <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3">
              <label class="label" title="You can use your COMMAND skill to help a person who is incapacitated by stress get back on their feet." for="command">Command</label>
            </div>
            <select class="skill" name="attr_command" value="F">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="F">F</option>
            </select>
            <!-- Skill die size, e.g. 8, *calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_commanddie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
            <!-- Skill die type. e.g. D8, calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_commanddietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_commanddietype"></span>
          </div>
          <div class="row-whole row-fill middle"> 
            <input class="hidden" id="persuasion" name="act_persuasion" type="checkbox" value="1"/>
            <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3">
              <label class="label" title="Use PERSUASION to make others see things your way. Your chances can be affected by your bargaining position and military rank. " for="persuasion">Persuasion</label>
            </div>
            <select class="skill" name="attr_persuasion" value="F">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="F">F</option>
            </select>
            <!-- Skill die size, e.g. 8, *calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_persuasiondie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
            <!-- Skill die type. e.g. D8, calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_persuasiondietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_persuasiondietype"></span>
          </div>
          <div class="row-whole row-fill middle"> 
            <input class="hidden" id="medicalaid" name="act_medicalaid" type="checkbox" value="1"/>
            <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3">
              <label class="label" title="The MEDICAL AID skill can be used to help a friend who is incapacitated by damage get back on their feet, and to save the life of a fallen comrade who has suffered a critical injury. " for="medicalaid">Medical Aid</label>
            </div>
            <select class="skill" name="attr_medicalaid" value="F">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="F">F</option>
            </select>
            <!-- Skill die size, e.g. 8, *calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_medicalaiddie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
            <!-- Skill die type. e.g. D8, calculated through sheetworker-->
            <input class="input-hidden skill" type="hidden" name="attr_attr_medicalaiddietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_medicalaiddietype"></span>
          </div>
          <div class="row-whole condition">
            <div class="label row-fill right">Hypothermic</div>
            <input class="numbered-box grey-box condition" type="checkbox" name="attr_hypothermic"/><span title="+"></span>
          </div>
        </div>
      </div>
    </div>
    <div class="row-tall border-bottom-long background-tan flex-wrap">
      <div class="row-whole"></div>
      <div class="col-whole label-caps">Specialities</div>
      <div class="row-whole"></div>
    </div>
    <div class="row-tall border-bottom-long">
      <div class="row-tall flex-row speciality">
        <fieldset class="repeating_speciality">
          <div class="speciality-box">
            <input class="input-text spec-name" type="text" name="attr_name"/>
            <!--select.spec-category(name=spec-cat,value= category)
            each val in ['Close Combat', 'Heavy Weapons', 'Stamina', 'Driving', 'Mobility', 'Ranged Combat', 'Recon', 'Survival', 'Tech', 'Command', 'Medical Aid', 'Persuasion']
              option(value= val)= val
            -->
            <textarea class="spec-desc input-textarea" name="attr_description"></textarea>
          </div>
        </fieldset>
        <!--+speciality('Combat Medic','Medical Aid','Gives a +1 modifier to MEDICAL AID rolls for helping an incapacitated character get back up (page 73). No effect on treating critical injuries.')-->
        <!--+speciality('Combat Medic','Medical Aid','Gives a +1 modifier to MEDICAL AID rolls for helping an incapacitated character get back up (page 73). No effect on treating critical injuries.')-->
        <!--+speciality-add-->
      </div>
    </div>
  </div>
  <div class="combat">
    <div class="row-tall border-bottom-long background-tan flex-wrap">
      <div class="col-half border-right height-margs5 label-caps">Combat</div>
      <div class="col-half border-right height-margs5 label-caps">Armor</div>
      <!--.row-whole-nopad-->
      <div class="col-half border-right">&amp;nbsp;</div>
      <div class="row-fill border-right">&amp;nbsp;</div>
      <div class="col-42px border-right center middle smallcaps wide">Weight</div>
      <div class="col-42px border-right center middle smallcaps">Damage</div>
      <div class="col-42px border-right center middle smallcaps">Rating</div>
      <!--.col-quarter Conditions-->
    </div>
    <div class="row-tall no-pad no-marg border-bottom-long">
      <div class="col-half border-right no-pad no-marg">
        <div class="row-whole border-bottom-long height-fit-content">
          <div class="col-half row-tall border-right">
            <div class="row-whole">
              <div class="label-caps">Damage</div>
            </div>
            <div class="row-whole damage pad-side5">
              <!--+input-hidden('damage hitcapacity hidden',"hitcapacity")-->
              <!--input.damage.hitcapacity.hidden(name= "hitcapacity",value="ceil((@{strengthdie}+@{agilitydie})/4)",readonly,hidden)-->
              <!--+input-hidden('',"damage",'0')-->
              <!--input.damage.hidden(name= "damage",readonly,hidden)-->
              <!--.row-whole.space-even-->
              <div class="col-sixth flex1">
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box damageradio " type="radio" value="0" id="damage0" name="attr_damage" title="@{damage}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage damage0 " title="0" for="damage0">0</label>
              </div>
              <div class="col-fivesixth flex5 flex-row radioboxes">
                <input class="input-hidden damage hitcapacity hidden" type="hidden" name="attr_hitcapacity" hidden="hidden" readonly="readonly"/>
                <!--input.damage.hitcapacity.hidden(name= "hitcapacity",value="ceil((@{strengthdie}+@{agilitydie})/4)",readonly,hidden)-->
                <input class="input-hidden" type="hidden" name="attr_damage" value="0" hidden="hidden" readonly="readonly"/>
                <!--input.damage.hidden(name= "damage",readonly,hidden)-->
                <input class="hidden greyish-box damageradio" type="radio" value="0" id="damage0" name="attr_damage" title="@{damage}" hidden="hidden"/>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box damageradio  v1" type="radio" value="1" id="damage1" name="attr_damage" title="@{damage}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage damage1  v1" title="1" for="damage1">1</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box damageradio  v1 v2" type="radio" value="2" id="damage2" name="attr_damage" title="@{damage}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage damage2  v1 v2" title="2" for="damage2">2</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box damageradio  v1 v2 v3" type="radio" value="3" id="damage3" name="attr_damage" title="@{damage}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage damage3  v1 v2 v3" title="3" for="damage3">3</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box damageradio  v1 v2 v3 v4" type="radio" value="4" id="damage4" name="attr_damage" title="@{damage}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage damage4  v1 v2 v3 v4" title="4" for="damage4">4</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box damageradio  v1 v2 v3 v4 v5" type="radio" value="5" id="damage5" name="attr_damage" title="@{damage}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage damage5  v1 v2 v3 v4 v5" title="5" for="damage5">5</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box damageradio  v1 v2 v3 v4 v5 v6" type="radio" value="6" id="damage6" name="attr_damage" title="@{damage}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage damage6  v1 v2 v3 v4 v5 v6" title="6" for="damage6">6</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box damageradio  v1 v2 v3 v4 v5 v6 v7" type="radio" value="7" id="damage7" name="attr_damage" title="@{damage}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage damage7  v1 v2 v3 v4 v5 v6 v7" title="7" for="damage7">7</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box damageradio  v1 v2 v3 v4 v5 v6 v7 v8" type="radio" value="8" id="damage8" name="attr_damage" title="@{damage}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage damage8  v1 v2 v3 v4 v5 v6 v7 v8" title="8" for="damage8">8</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box damageradio  v1 v2 v3 v4 v5 v6 v7 v8 v9" type="radio" value="9" id="damage9" name="attr_damage" title="@{damage}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage damage9  v1 v2 v3 v4 v5 v6 v7 v8 v9" title="9" for="damage9">9</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box damageradio  v1 v2 v3 v4 v5 v6 v7 v8 v9 v10" type="radio" value="10" id="damage10" name="attr_damage" title="@{damage}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage damage10  v1 v2 v3 v4 v5 v6 v7 v8 v9 v10" title="10" for="damage10">10</label>
              </div>
            </div>
          </div>
          <div class="col-half row-tall">
            <div class="row-whole">
              <div class="label-caps">Stress</div>
            </div>
            <div class="row-whole damage pad-side5">
              <!--+input-hidden('damage stresscapacity hidden',"stresscapacity")-->
              <!--input.damage.stresscapacity.hidden(name= "stresscapacity",value="ceil((@{intelligencedie}+@{empathydie})/4)",readonly,hidden)-->
              <!--+input-hidden('',"stress",'0')-->
              <!--input.hidden.damage(name= "stress",hidden,readonly)-->
              <!--.row-whole.space-even-->
              <div class="col-sixth flex1">
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box stressradio " type="radio" value="0" id="stress0" name="attr_stress" title="@{stress}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage stress0 " title="0" for="stress0">0</label>
              </div>
              <div class="col-fivesixth flex5 flex-row radioboxes">
                <input class="input-hidden damage hitcapacity hidden" type="hidden" name="attr_stresscapacity" hidden="hidden" readonly="readonly"/>
                <!--input.damage.hitcapacity.hidden(name= "hitcapacity",value="ceil((@{strengthdie}+@{agilitydie})/4)",readonly,hidden)-->
                <input class="input-hidden" type="hidden" name="attr_stress" value="0" hidden="hidden" readonly="readonly"/>
                <!--input.damage.hidden(name= "damage",readonly,hidden)-->
                <input class="hidden greyish-box stressradio" type="radio" value="0" id="stress0" name="attr_stress" title="@{stress}" hidden="hidden"/>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box stressradio  v1" type="radio" value="1" id="stress1" name="attr_stress" title="@{stress}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage stress1  v1" title="1" for="stress1">1</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box stressradio  v1 v2" type="radio" value="2" id="stress2" name="attr_stress" title="@{stress}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage stress2  v1 v2" title="2" for="stress2">2</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box stressradio  v1 v2 v3" type="radio" value="3" id="stress3" name="attr_stress" title="@{stress}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage stress3  v1 v2 v3" title="3" for="stress3">3</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box stressradio  v1 v2 v3 v4" type="radio" value="4" id="stress4" name="attr_stress" title="@{stress}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage stress4  v1 v2 v3 v4" title="4" for="stress4">4</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box stressradio  v1 v2 v3 v4 v5" type="radio" value="5" id="stress5" name="attr_stress" title="@{stress}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage stress5  v1 v2 v3 v4 v5" title="5" for="stress5">5</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box stressradio  v1 v2 v3 v4 v5 v6" type="radio" value="6" id="stress6" name="attr_stress" title="@{stress}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage stress6  v1 v2 v3 v4 v5 v6" title="6" for="stress6">6</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box stressradio  v1 v2 v3 v4 v5 v6 v7" type="radio" value="7" id="stress7" name="attr_stress" title="@{stress}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage stress7  v1 v2 v3 v4 v5 v6 v7" title="7" for="stress7">7</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box stressradio  v1 v2 v3 v4 v5 v6 v7 v8" type="radio" value="8" id="stress8" name="attr_stress" title="@{stress}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage stress8  v1 v2 v3 v4 v5 v6 v7 v8" title="8" for="stress8">8</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box stressradio  v1 v2 v3 v4 v5 v6 v7 v8 v9" type="radio" value="9" id="stress9" name="attr_stress" title="@{stress}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage stress9  v1 v2 v3 v4 v5 v6 v7 v8 v9" title="9" for="stress9">9</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box greyish-box stressradio  v1 v2 v3 v4 v5 v6 v7 v8 v9 v10" type="radio" value="10" id="stress10" name="attr_stress" title="@{stress}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage stress10  v1 v2 v3 v4 v5 v6 v7 v8 v9 v10" title="10" for="stress10">10</label>
              </div>
            </div>
          </div>
        </div>
        <div class="row-whole no-pad no-marg">
          <div class="col-half border-right pad-right5">
            <div class="row-whole border-bottom-long">
              <!--.row-whole-->
              <div class="label row-fill">Hit capacity</div><span class="input-number noborder noshadow" name="attr_hitcapacity"> </span>
            </div>
            <div class="row-whole border-bottom-long">
              <!--.row-whole-->
              <div class="label row-fill">Stress Capacity</div><span class="input-number noborder noshadow" name="attr_stresscapacity"> </span>
            </div>
            <div class="row-whole">
              <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3"> 
                <div class="label row-fill" title="Coolness Under Fire">C. U. F.</div>
              </div>
              <select class="attribute" name="attr_cuf" value="C">
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
                <option value="D">D</option>
              </select>
              <!-- Attribute die size, e.g. 8, *calculated through sheetworker-->
              <input class="input-hidden attribute" type="hidden" name="attr_attr_cufdie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
              <!-- Attribute die type. e.g. D8, calculated through sheetworker-->
              <input class="input-hidden attribute" type="hidden" name="attr_attr_cufdietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_cufdietype"></span>
            </div>
            <!--+input-unitmorale('Unit Morale','cuf_unit','','Equals the highest Command skill level in the unit')-->
            <div class="row-whole">
              <div class="label-div row-fill h-fill middle no-pad border-bottom-short pad-right3"> 
                <div class="label row-fill" title="Equals the highest Command skill level in the unit">Unit Morale</div>
              </div>
              <select class="attribute" name="attr_cuf_unit" value="C">
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
                <option value="D">D</option>
              </select>
              <!-- Attribute die size, e.g. 8, *calculated through sheetworker-->
              <input class="input-hidden attribute" type="hidden" name="attr_attr_cuf_unitdie" value="" hidden="hidden" readonly="readonly"/><span class="separator">=</span>
              <!-- Attribute die type. e.g. D8, calculated through sheetworker-->
              <input class="input-hidden attribute" type="hidden" name="attr_attr_cuf_unitdietype" value="" hidden="hidden" readonly="readonly"/><span class="input-die noborder" name="attr_cuf_unitdietype"></span>
            </div>
          </div>
          <div class="col-half pad10">
            <div class="row-whole"> 
              <div class="label-caps">Critical Injuries</div>
              <textarea class="input-textarea" name="attr_critials"></textarea>
            </div>
            <div class="row-whole">
              <div class="label-caps">Diseases</div>
              <textarea class="input-textarea" name="attr_diseases"></textarea>
            </div>
          </div>
        </div>
      </div>
      <div class="col-half flex-row">
        <div class="row-whole flex-row border-bottom-long armor-box">
          <div class="row-whole-nopad flex-row flex1 middle no-marg no-pad">
            <input class="input-hidden" type="hidden" name="attr_armor_two_ar" value="0" hidden="hidden" readonly="readonly"/>
            <div class="label col-fifth center">Head</div>
            <div class="row-fill pad-right8">
              <input class="input-text right" type="text" name="attr_armor_two_name"/>
            </div>
            <div class="armor-weight wide">
              <select class="weight wide" name="attr_armor_two_weight" value=""> 
                <option value="" selected="selected" disabled="disabled" hidden="hidden"></option>
                <option value="0.25">0.25</option>
                <option value="0.5">0.5</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select>
            </div>
            <div class="armor-damage">
              <input class="input-number" type="number" max="0" min="-10" value="" name="attr_armor_two_damage"/>
            </div>
            <div class="armor-rating">
              <input class="input-number" type="number" name="attr_armor_two_rating"/>
            </div>
          </div>
          <div class="row-whole-nopad flex-row flex1 middle no-marg no-pad">
            <input class="input-hidden" type="hidden" name="attr_armor_three_ar" value="0" hidden="hidden" readonly="readonly"/>
            <div class="label col-fifth center">Arms</div>
            <div class="row-fill pad-right8">
              <input class="input-text right" type="text" name="attr_armor_three_name"/>
            </div>
            <div class="armor-weight wide">
              <select class="weight wide" name="attr_armor_three_weight" value=""> 
                <option value="" selected="selected" disabled="disabled" hidden="hidden"></option>
                <option value="0.25">0.25</option>
                <option value="0.5">0.5</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select>
            </div>
            <div class="armor-damage">
              <input class="input-number" type="number" max="0" min="-10" value="" name="attr_armor_three_damage"/>
            </div>
            <div class="armor-rating">
              <input class="input-number" type="number" name="attr_armor_three_rating"/>
            </div>
          </div>
          <div class="row-whole-nopad flex-row flex1 middle no-marg no-pad">
            <input class="input-hidden" type="hidden" name="attr_armor_one_ar" value="0" hidden="hidden" readonly="readonly"/>
            <div class="label col-fifth center">Torso</div>
            <div class="row-fill pad-right8">
              <input class="input-text right" type="text" name="attr_armor_one_name"/>
            </div>
            <div class="armor-weight wide">
              <select class="weight wide" name="attr_armor_one_weight" value=""> 
                <option value="" selected="selected" disabled="disabled" hidden="hidden"></option>
                <option value="0.25">0.25</option>
                <option value="0.5">0.5</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select>
            </div>
            <div class="armor-damage">
              <input class="input-number" type="number" max="0" min="-10" value="" name="attr_armor_one_damage"/>
            </div>
            <div class="armor-rating">
              <input class="input-number" type="number" name="attr_armor_one_rating"/>
            </div>
          </div>
          <div class="row-whole-nopad flex-row flex1 middle no-marg no-pad">
            <input class="input-hidden" type="hidden" name="attr_armor_four_ar" value="0" hidden="hidden" readonly="readonly"/>
            <div class="label col-fifth center">Legs</div>
            <div class="row-fill pad-right8">
              <input class="input-text right" type="text" name="attr_armor_four_name"/>
            </div>
            <div class="armor-weight wide">
              <select class="weight wide" name="attr_armor_four_weight" value=""> 
                <option value="" selected="selected" disabled="disabled" hidden="hidden"></option>
                <option value="0.25">0.25</option>
                <option value="0.5">0.5</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select>
            </div>
            <div class="armor-damage">
              <input class="input-number" type="number" max="0" min="-10" value="" name="attr_armor_four_damage"/>
            </div>
            <div class="armor-rating">
              <input class="input-number" type="number" name="attr_armor_four_rating"/>
            </div>
          </div>
          <!--.col-half.flex-row.border-right
          +input-value-number('Head','armor_head')
          +input-value-number('Arms','armor_arms')
          +input-value-number('Torso','armor_torso')
          +input-value-number('Legs','armor_legs')
          -->
          <!--.col-half.flex-row
          +input-check('Starving','condition_starving')
          +input-check('Dehydrated','condition_dehydrated')
          +input-check('Sleep Deprived','condition_sleepdeprived')
          +input-check('Hypothermic','condition_hypothermic')
          -->
        </div>
        <div class="row-whole row-tall border-bottom-long background-tan">Radioact</div>
        <div class="row-whole row-tall">
          <div class="col-half flex-row border-right">
            <div class="label">Temporary</div>
            <div class="row-whole damage">
              <!--+input-hidden('radiation damage',"radiation",'0')-->
              <!--input.hidden.damage(name= "attr_radiation",hidden,readonly)-->
              <!--.row-whole.space-even-->
              <div class="col-sixth flex1">
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box gold-box temporaryradsradio " type="radio" value="0" id="temporaryrads0" name="attr_temporaryrads" title="@{temporaryrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage temporaryrads0 " title="0" for="temporaryrads0">0</label>
              </div>
              <div class="col-fivesixth flex5 flex-row radioboxes">
                <input class="input-hidden damage hitcapacity hidden" type="hidden" name="attr_undefined" hidden="hidden" readonly="readonly"/>
                <!--input.damage.hitcapacity.hidden(name= "hitcapacity",value="ceil((@{strengthdie}+@{agilitydie})/4)",readonly,hidden)-->
                <input class="input-hidden" type="hidden" name="attr_temporaryrads" value="0" hidden="hidden" readonly="readonly"/>
                <!--input.damage.hidden(name= "damage",readonly,hidden)-->
                <input class="hidden gold-box temporaryradsradio" type="radio" value="0" id="temporaryrads0" name="attr_temporaryrads" title="@{temporaryrads}" hidden="hidden"/>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box gold-box temporaryradsradio  v1" type="radio" value="1" id="temporaryrads1" name="attr_temporaryrads" title="@{temporaryrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage temporaryrads1  v1" title="1" for="temporaryrads1">1</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box gold-box temporaryradsradio  v1 v2" type="radio" value="2" id="temporaryrads2" name="attr_temporaryrads" title="@{temporaryrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage temporaryrads2  v1 v2" title="2" for="temporaryrads2">2</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box gold-box temporaryradsradio  v1 v2 v3" type="radio" value="3" id="temporaryrads3" name="attr_temporaryrads" title="@{temporaryrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage temporaryrads3  v1 v2 v3" title="3" for="temporaryrads3">3</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box gold-box temporaryradsradio  v1 v2 v3 v4" type="radio" value="4" id="temporaryrads4" name="attr_temporaryrads" title="@{temporaryrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage temporaryrads4  v1 v2 v3 v4" title="4" for="temporaryrads4">4</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box gold-box temporaryradsradio  v1 v2 v3 v4 v5" type="radio" value="5" id="temporaryrads5" name="attr_temporaryrads" title="@{temporaryrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage temporaryrads5  v1 v2 v3 v4 v5" title="5" for="temporaryrads5">5</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box gold-box temporaryradsradio  v1 v2 v3 v4 v5 v6" type="radio" value="6" id="temporaryrads6" name="attr_temporaryrads" title="@{temporaryrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage temporaryrads6  v1 v2 v3 v4 v5 v6" title="6" for="temporaryrads6">6</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box gold-box temporaryradsradio  v1 v2 v3 v4 v5 v6 v7" type="radio" value="7" id="temporaryrads7" name="attr_temporaryrads" title="@{temporaryrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage temporaryrads7  v1 v2 v3 v4 v5 v6 v7" title="7" for="temporaryrads7">7</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box gold-box temporaryradsradio  v1 v2 v3 v4 v5 v6 v7 v8" type="radio" value="8" id="temporaryrads8" name="attr_temporaryrads" title="@{temporaryrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage temporaryrads8  v1 v2 v3 v4 v5 v6 v7 v8" title="8" for="temporaryrads8">8</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box gold-box temporaryradsradio  v1 v2 v3 v4 v5 v6 v7 v8 v9" type="radio" value="9" id="temporaryrads9" name="attr_temporaryrads" title="@{temporaryrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage temporaryrads9  v1 v2 v3 v4 v5 v6 v7 v8 v9" title="9" for="temporaryrads9">9</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box gold-box temporaryradsradio  v1 v2 v3 v4 v5 v6 v7 v8 v9 v10" type="radio" value="10" id="temporaryrads10" name="attr_temporaryrads" title="@{temporaryrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage temporaryrads10  v1 v2 v3 v4 v5 v6 v7 v8 v9 v10" title="10" for="temporaryrads10">10</label>
              </div>
            </div>
          </div>
          <div class="col-half flex-row">
            <div class="label">Permanent</div>
            <div class="row-whole damage">
              <!--+input-hidden('radiation damage',"permanentradiation",'0')-->
              <!--input.hidden.damage(name= "attr_permanentradiation",hidden,readonly)-->
              <!--.row-whole.space-even-->
              <div class="col-sixth flex1">
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box red-box permanentradsradio " type="radio" value="0" id="permanentrads0" name="attr_permanentrads" title="@{permanentrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage permanentrads0 " title="0" for="permanentrads0">0</label>
              </div>
              <div class="col-fivesixth flex5 flex-row radioboxes">
                <input class="input-hidden damage hitcapacity hidden" type="hidden" name="attr_undefined" hidden="hidden" readonly="readonly"/>
                <!--input.damage.hitcapacity.hidden(name= "hitcapacity",value="ceil((@{strengthdie}+@{agilitydie})/4)",readonly,hidden)-->
                <input class="input-hidden" type="hidden" name="attr_permanentrads" value="0" hidden="hidden" readonly="readonly"/>
                <!--input.damage.hidden(name= "damage",readonly,hidden)-->
                <input class="hidden red-box permanentradsradio" type="radio" value="0" id="permanentrads0" name="attr_permanentrads" title="@{permanentrads}" hidden="hidden"/>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box red-box permanentradsradio  v1" type="radio" value="1" id="permanentrads1" name="attr_permanentrads" title="@{permanentrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage permanentrads1  v1" title="1" for="permanentrads1">1</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box red-box permanentradsradio  v1 v2" type="radio" value="2" id="permanentrads2" name="attr_permanentrads" title="@{permanentrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage permanentrads2  v1 v2" title="2" for="permanentrads2">2</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box red-box permanentradsradio  v1 v2 v3" type="radio" value="3" id="permanentrads3" name="attr_permanentrads" title="@{permanentrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage permanentrads3  v1 v2 v3" title="3" for="permanentrads3">3</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box red-box permanentradsradio  v1 v2 v3 v4" type="radio" value="4" id="permanentrads4" name="attr_permanentrads" title="@{permanentrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage permanentrads4  v1 v2 v3 v4" title="4" for="permanentrads4">4</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box red-box permanentradsradio  v1 v2 v3 v4 v5" type="radio" value="5" id="permanentrads5" name="attr_permanentrads" title="@{permanentrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage permanentrads5  v1 v2 v3 v4 v5" title="5" for="permanentrads5">5</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box red-box permanentradsradio  v1 v2 v3 v4 v5 v6" type="radio" value="6" id="permanentrads6" name="attr_permanentrads" title="@{permanentrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage permanentrads6  v1 v2 v3 v4 v5 v6" title="6" for="permanentrads6">6</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box red-box permanentradsradio  v1 v2 v3 v4 v5 v6 v7" type="radio" value="7" id="permanentrads7" name="attr_permanentrads" title="@{permanentrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage permanentrads7  v1 v2 v3 v4 v5 v6 v7" title="7" for="permanentrads7">7</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box red-box permanentradsradio  v1 v2 v3 v4 v5 v6 v7 v8" type="radio" value="8" id="permanentrads8" name="attr_permanentrads" title="@{permanentrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage permanentrads8  v1 v2 v3 v4 v5 v6 v7 v8" title="8" for="permanentrads8">8</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box red-box permanentradsradio  v1 v2 v3 v4 v5 v6 v7 v8 v9" type="radio" value="9" id="permanentrads9" name="attr_permanentrads" title="@{permanentrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage permanentrads9  v1 v2 v3 v4 v5 v6 v7 v8 v9" title="9" for="permanentrads9">9</label>
                <!--if i == 6 
                .spacer 
                +numbered-radiobox(attribute,i++,color)
                -->
                <!--else +numbered-radiobox(attribute,i++,color)
                -->
                <!--while j > index- lt += " v"+(j--)  
                -->
                <input class="numbered-box red-box permanentradsradio  v1 v2 v3 v4 v5 v6 v7 v8 v9 v10" type="radio" value="10" id="permanentrads10" name="attr_permanentrads" title="@{permanentrads}" hidden="hidden"/>
                <!--label.damage(title= index,for= attribute+index,class=  attribute+index,data-value-lt= lt,data-value-gt= gt)= index-->
                <label class="damage permanentrads10  v1 v2 v3 v4 v5 v6 v7 v8 v9 v10" title="10" for="permanentrads10">10</label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="weapons-row no-pad"> 
      <!--.row-tall.border-bottom-long.background-tan-->
      <!--  .col-full Weapons-->
      <div class="row-tall row-100pc border-bottom-long background-tan">
        <div class="col-sixth border-right background-tan no-pad middle center h-2-5em">WEAPONS</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em xwide">TYPE</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em">AMMO</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em narrow">REL</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em narrow">ROF</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em">DAMAGE</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em narrow">CRIT</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em narrow">BLAST</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em">RANGE</div>
        <div class="col-14th border-right background-tan smallcaps no-pa middle center h-2-5em">MAG</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em wide">ARMOR</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em wide">WEIGHT</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em">SPENT</div>
        <div class="col-14th background-tan smallcaps no-pad middle center h-2-5em">ROLL</div>
      </div>
      <fieldset class="repeating_weapons">
        <div class="row-tall row-100pc border-bottom-long">
          <div class="col-sixth border-right no-pad middle center h-2-5em">
            <input class="input-text" type="text" name="attr_name"/>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em xwide"> 
            <select class="weapontype xwide" name="attr_type"> 
              <option value="Unarmed">Unarmed</option>
              <option value="Melee">Melee</option>
              <option value="Bow">Bow</option>
              <option value="Thrown">Thrown</option>
              <option value="Grenade">Grenade</option>
              <option value="Revolver">Revolver</option>
              <option value="Pistol">Pistol</option>
              <option value="SMG">SMG</option>
              <option value="Hunting">Hunting</option>
              <option value="Shotgun">Shotgun</option>
              <option value="Carbine">Carbine</option>
              <option value="AR">AR</option>
              <option value="Battle Rifle">Battle Rifle</option>
              <option value="Sniper">Sniper</option>
              <option value="LMG">LMG</option>
              <option value="GPMG">GPMG</option>
              <option value="HMG">HMG</option>
              <option value="GL">GL</option>
              <option value="RL">RL</option>
              <option value="ATRL">ATRL</option>
              <option value="ATGM">ATGM</option>
            </select>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em"> 
            <input class="input-text center" type="text" name="attr_ammo"/>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em narrow">
            <input class="input-number narrow" type="number" name="attr_rel" min="0" max=""/>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em narrow">
            <input class="input-number narrow" type="number" name="attr_rof" min="0" max=""/>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em">
            <input class="input-number narrow" type="number" name="attr_damage" min="0" max=""/>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em narrow">
            <input class="input-number narrow" type="number" name="attr_crit" min="0" max=""/>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em narrow">
            <input class="input-number narrow" type="number" name="attr_blast" min="0" max=""/>
          </div>
          <div class="col-14th border-right no-pa middle center h-2-5em">
            <input class="input-number narrow" type="number" name="attr_range" min="0" max=""/>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em">
            <input class="input-number narrow" type="number" name="attr_magazine" min="0" max=""/>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em wide">
            <select class="armormod wide" name="attr_armor" value="0"> 
              <option value="+3">+3</option>
              <option value="+2">+2</option>
              <option value="+1">+1</option>
              <option value="0">0</option>
              <option value="-1">-1</option>
              <option value="-2">-2</option>
              <option value="-3">-3</option>
            </select>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em wide">
            <select class="weight wide" name="attr_weight" value="1"> 
              <option value="0.25">0.25</option>
              <option value="0.5">0.5</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
            </select>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em">
            <input class="input-number narrow" type="number" name="attr_spent" min="0" max=""/>
          </div>
          <div class="col-14th no-pad middle center h-2-5em"> 
            <button class="custom-roll attribute-button" type="roll" name="roll_rawdice" value="&amp;{template:t2k} {{character-name=@{character_name} }} {{roll-name=@{name} }} {{roll-die-one=[[1d@{rawdie1}]] }} {{roll-die-two=[[1d@{rawdie2}]] }} {{roll-one-type=[[@{rawdie1}]]}} {{roll-two-type=[[@{rawdie2}]]}} {{ammo-dice=[[@{rawammo}]] }} {{ammo-roll-one=[[1d6]] }} {{ammo-roll-two=[[1d6]] }} {{ammo-roll-three=[[1d6]] }} {{ammo-roll-four=[[1d6]] }} {{ammo-roll-five=[[1d6]] }} {{ammo-roll-six=[[1d6]] }} {{current-crit=@{weapon_one_crit} }} {{current-damage=@{weapon_one_damage} }} {{current-range=@{weapon_one_range} }}"></button>
          </div>
        </div>
      </fieldset>
    </div>
  </div>
  <div class="gear">
    <!--.row-tall.border-bottom-long.background-tan
    .col-third.border-right Combat Gear
    .col-third.border-right Backpack
    .col-third Tiny items 
    -->
    <div class="row-whole border-bottom-long row-100pc no-pad encumbrance">
      <div class="col-third no-pad">
        <!--.expand.arrow  -->
        <div class="row-whole border-right">
          <!--.col-threefifth.middle-->
          <div class="col-threequarter border-right"><span class="label-caps">Combat Carry Limit</span></div>
          <!--.col-fifth.box.h-2-5em-->
          <div class="col-quarter">
            <input class="input-hidden" type="hidden" name="attr_carrycap_total" value="0" hidden="hidden" readonly="readonly"/><span class="input-number noborder noshadow" name="attr_carrycap_total"> </span><span class="input-number slash noborder noshadow h-2-5em no-marg">/</span><span class="input-number noborder noshadow border-right" name="attr_carry_limit"> </span>
          </div>
        </div>
        <div class="row-whole border-right">
          <!--.col-threefifth.middle-->
          <div class="col-threequarter border-right"><span class="label-caps">Combat Encumbrance</span></div>
          <!--.col-fifth.box.h-2-5em-->
          <div class="col-quarter h-2-5em row-fill"><span class="input-number noborder noshadow row-fillborder-right" name="attr_combatgear_total">        </span></div>
        </div>
        <div class="row-whole border-right">
          <!--.col-threefifth.middle-->
          <div class="col-threequarter border-right"><span class="label-caps">Armor Encumbrance</span></div>
          <!--.col-fifth.box.h-2-5em-->
          <div class="col-quarter h-2-5em row-fill"><span class="input-number noborder noshadow row-fillborder-right" name="attr_armorweight_total">        </span></div>
        </div>
        <div class="row-whole border-right">
          <!--.col-threefifth.middle-->
          <div class="col-threequarter border-right"><span class="label-caps">Weapon Encumbrance</span></div>
          <!--.col-fifth.box.h-2-5em-->
          <div class="col-quarter h-2-5em row-fill"><span class="input-number noborder noshadow row-fillborder-right" name="attr_weaponweight_total">        </span></div>
        </div>
      </div>
      <div class="col-third no-pad">
        <!--+encumbrance-line('Backpack Encumbrance','backpack_total')-->
        <div class="row-whole border-right">
          <!--.col-threefifth.middle-->
          <div class="col-threequarter border-right"><span class="label-caps">Backpack Carry Limit</span></div>
          <!--.col-fifth.box.h-2-5em-->
          <div class="col-quarter">
            <input class="input-hidden" type="hidden" name="attr_carrycap_total" value="0" hidden="hidden" readonly="readonly"/><span class="input-number noborder noshadow" name="attr_backpack_total"> </span><span class="input-number slash noborder noshadow h-2-5em no-marg">/</span><span class="input-number noborder noshadow border-right" name="attr_carry_limit_backpack"> </span>
          </div>
        </div>
      </div>
      <div class="col-third no-pad"></div>
    </div>
    <div class="row-tall border-bottom-long background-tan">
      <div class="col-third no-pad">
        <div class="row-tall row-100pc no-pad">
          <div class="col-fill border-bottom-short border-right background-tan no-pad middle center h-2-5em label-caps">Combat Gear</div>
          <div class="col-sixth border-bottom-short border-right background-tan no-pad middle center h-2-5em wide">Weight</div>
          <div class="col-sixth border-bottom-short border-right background-tan no-pad middle center h-2-5em">#</div>
        </div>
      </div>
      <div class="col-third no-pad">
        <div class="row-tall row-100pc no-pad">
          <div class="col-fill border-bottom-short border-right background-tan no-pad middle center h-2-5em label-caps">Backback</div>
          <div class="col-sixth border-bottom-short border-right background-tan no-pad middle center h-2-5em wide">Weight</div>
          <div class="col-sixth border-bottom-short border-right background-tan no-pad middle center h-2-5em">#</div>
        </div>
      </div>
      <div class="col-third no-pad">
        <div class="row-tall row-100pc no-pad">
          <div class="col-fourfifth border-bottom-short border-right background-tan no-pad middle center h-2-5em label-caps">Tiny Items</div>
          <div class="col-fifth border-bottom-short border-right background-tan no-pad middle center h-2-5em">#</div>
        </div>
      </div>
    </div>
    <div class="row-tall border-bottom-long">
      <div class="col-third no-pad">
        <fieldset class="repeating_combatgear">
          <!--.row-tall.row-100pc.no-pad
          .col-twothird.border-bottom-short.border-right.no-pad.middle.center.h-2-5em M16
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-twothird.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Knife
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 0.5
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-twothird.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Flak jacket
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-twothird.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Helmet
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-twothird.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Mag M16
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 0.25
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 5
          -->
          <div class="row-tall row-100pc no-pad border-top-sectioned">
            <div class="col-fill border-right no-pad middle center h-2-5em"> 
              <input class="input-text gear-name center" type="text" name="attr_name"/>
            </div>
            <div class="col-sixth border-right no-pad middle center h-2-5em wide">
              <select class="weight wide" name="attr_weight" value="1">
                <option value="0.25">0.25</option>
                <option value="0.5">0.5</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select>
            </div>
            <div class="col-sixth border-right no-pad middle center h-2-5em"> 
              <input class="input-number" type="number" name="attr_amount" value="1"/>
            </div>
          </div>
        </fieldset>
      </div>
      <div class="col-third no-pad">
        <fieldset class="repeating_backpack">
          <!--.row-tall.row-100pc.no-pad
          .col-twothird.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Mag
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 0.25
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 2
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-twothird.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Handradio
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-twothird.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Flare
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 0.25
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 2
          -->
          <div class="row-tall row-100pc no-pad border-top-sectioned">
            <div class="col-fill border-right no-pad middle center h-2-5em"> 
              <input class="input-text gear-name center" type="text" name="attr_name"/>
            </div>
            <div class="col-sixth border-right no-pad middle center h-2-5em wide">
              <select class="weight wide" name="attr_weight" value="1">
                <option value="0.25">0.25</option>
                <option value="0.5">0.5</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select>
            </div>
            <div class="col-sixth border-right no-pad middle center h-2-5em"> 
              <input class="input-number" type="number" name="attr_amount" value="1"/>
            </div>
          </div>
        </fieldset>
      </div>
      <div class="col-third no-pad">
        <fieldset class="repeating_tinyitems">
          <!--.row-tall.row-100pc.no-pad
          .col-threequarter.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Map
          .col-quarter.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-threequarter.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Crucifix
          .col-quarter.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-threequarter.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Dollars
          .col-quarter.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 12
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-threequarter.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Kronor
          .col-quarter.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 550
          -->
          <div class="row-tall row-100pc no-pad border-top-sectioned">
            <div class="col-fourfifth border-bottom-short border-right no-pad middle center h-2-5em"> 
              <input class="input-text gear-name center" type="text" name="attr_name"/>
            </div>
            <div class="col-fifth border-bottom-short border-right no-pad middle center h-2-5em"> 
              <input class="input-number" type="number" name="attr_amount"/>
            </div>
          </div>
        </fieldset>
      </div>
    </div>
  </div>
  <div class="vehicle">
    <div class="row-tall border-bottom-long background-tan">
      <div class="col-whole">Vehicle </div>
    </div>
    <div class="row-tall border-bottom-long">
      <div class="col-twothird info border-all">
        <div class="row row-100pc">         
          <div class="col-threequarter border-right">
            <div class="label-caps">Vehicle name</div>
            <input class="input-text" type="text" name="attr_test"/>
          </div>
          <div class="col-quarter">
            <div class="label-caps">Type</div>
            <input class="input-text" type="text" name="attr_test"/>
          </div>
        </div>
        <div class="row row-100pc">
          <div class="col-fifth border-right">
            <!--.row-whole-->
            <div class="label row-fill">Rel.</div>
            <input class="input-number" type="number" name="attr_undefined"/>
          </div>
          <div class="col-fifth border-right">
            <!--.row-whole-->
            <div class="label row-fill">Travel speed</div>
            <input class="input-number" type="number" name="attr_undefined"/>
          </div>
          <div class="col-fifth border-right">
            <!--.row-whole-->
            <div class="label row-fill">Combat Speed</div>
            <input class="input-number" type="number" name="attr_undefined"/>
          </div>
          <div class="col-fifth border-right">
            <!--.row-whole-->
            <div class="label row-fill">Crew</div>
            <input class="input-number" type="number" name="attr_undefined"/>
          </div>
          <div class="col-fifth">
            <!--.row-whole-->
            <div class="label row-fill">Cargo</div>
            <input class="input-number" type="number" name="attr_undefined"/>
          </div>
        </div>
      </div>
      <div class="col-third">
        <div class="row row-100pc">
          <label>Armor</label>
        </div>
        <div class="row row-100pc">
          <label>Fuel</label>
        </div>
      </div>
    </div>
    <div class="vehicleweapons-row"> 
      <!--.row-tall.border-bottom-long.background-tan-->
      <!--  .col-full Weapons-->
      <div class="row-tall row-100pc border-bottom-long background-tan">
        <div class="col-sixth border-right background-tan no-pad middle center h-2-5em">WEAPONS</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em xwide">TYPE</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em">AMMO</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em narrow">REL</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em narrow">ROF</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em">DAMAGE</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em narrow">CRIT</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em narrow">BLAST</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em">RANGE</div>
        <div class="col-14th border-right background-tan smallcaps no-pa middle center h-2-5em">MAG</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em wide">ARMOR</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em wide">WEIGHT</div>
        <div class="col-14th border-right background-tan smallcaps no-pad middle center h-2-5em">SPENT</div>
        <div class="col-14th background-tan smallcaps no-pad middle center h-2-5em">ROLL</div>
      </div>
      <fieldset class="repeating_vehicleweapons">
        <div class="row-tall row-100pc border-bottom-long">
          <div class="col-sixth border-right no-pad middle center h-2-5em">
            <input class="input-text" type="text" name="attr_name"/>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em xwide"> 
            <select class="weapontype xwide" name="attr_type"> 
              <option value="Unarmed">Unarmed</option>
              <option value="Melee">Melee</option>
              <option value="Bow">Bow</option>
              <option value="Thrown">Thrown</option>
              <option value="Grenade">Grenade</option>
              <option value="Revolver">Revolver</option>
              <option value="Pistol">Pistol</option>
              <option value="SMG">SMG</option>
              <option value="Hunting">Hunting</option>
              <option value="Shotgun">Shotgun</option>
              <option value="Carbine">Carbine</option>
              <option value="AR">AR</option>
              <option value="Battle Rifle">Battle Rifle</option>
              <option value="Sniper">Sniper</option>
              <option value="LMG">LMG</option>
              <option value="GPMG">GPMG</option>
              <option value="HMG">HMG</option>
              <option value="GL">GL</option>
              <option value="RL">RL</option>
              <option value="ATRL">ATRL</option>
              <option value="ATGM">ATGM</option>
            </select>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em"> 
            <input class="input-text center" type="text" name="attr_ammo"/>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em narrow">
            <input class="input-number narrow" type="number" name="attr_rel" min="0" max=""/>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em narrow">
            <input class="input-number narrow" type="number" name="attr_rof" min="0" max=""/>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em">
            <input class="input-number narrow" type="number" name="attr_damage" min="0" max=""/>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em narrow">
            <input class="input-number narrow" type="number" name="attr_crit" min="0" max=""/>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em narrow">
            <input class="input-number narrow" type="number" name="attr_blast" min="0" max=""/>
          </div>
          <div class="col-14th border-right no-pa middle center h-2-5em">
            <input class="input-number narrow" type="number" name="attr_range" min="0" max=""/>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em">
            <input class="input-number narrow" type="number" name="attr_magazine" min="0" max=""/>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em wide">
            <select class="armormod wide" name="attr_armor" value="0"> 
              <option value="+3">+3</option>
              <option value="+2">+2</option>
              <option value="+1">+1</option>
              <option value="0">0</option>
              <option value="-1">-1</option>
              <option value="-2">-2</option>
              <option value="-3">-3</option>
            </select>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em wide">
            <select class="weight wide" name="attr_weight" value="1"> 
              <option value="0.25">0.25</option>
              <option value="0.5">0.5</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
            </select>
          </div>
          <div class="col-14th border-right no-pad middle center h-2-5em">
            <input class="input-number narrow" type="number" name="attr_spent" min="0" max=""/>
          </div>
          <div class="col-14th no-pad middle center h-2-5em"> 
            <button class="custom-roll attribute-button" type="roll" name="roll_rawdice" value="&amp;{template:t2k} {{character-name=@{character_name} }} {{roll-name=@{name} }} {{roll-die-one=[[1d@{rawdie1}]] }} {{roll-die-two=[[1d@{rawdie2}]] }} {{roll-one-type=[[@{rawdie1}]]}} {{roll-two-type=[[@{rawdie2}]]}} {{ammo-dice=[[@{rawammo}]] }} {{ammo-roll-one=[[1d6]] }} {{ammo-roll-two=[[1d6]] }} {{ammo-roll-three=[[1d6]] }} {{ammo-roll-four=[[1d6]] }} {{ammo-roll-five=[[1d6]] }} {{ammo-roll-six=[[1d6]] }} {{current-crit=@{weapon_one_crit} }} {{current-damage=@{weapon_one_damage} }} {{current-range=@{weapon_one_range} }}"></button>
          </div>
        </div>
        <!--.row-tall.row-100pc.border-bottom-long
        .col-3-14th.border-bottom-short.border-right.no-pad.middle.center.h-2-5em M16
        .col-14th.border-bottom-short.border-right.no-pad.middle.center.h-2-5em AR
        .col-14th.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 5.56
        .col-14th.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 3
        .col-14th.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 2
        .col-14th.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 3
        .col-14th.border-bottom-short.border-right.no-pad.middle.center.h-2-5em -
        .col-14th.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 8
        .col-14th.border-bottom-short.border-right.no-pa.middle.center.h-2-5em 30
        .col-14th.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 3
        .col-14th.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 2
        .col-14th.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
        .col-14th.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 
        .col-14th.border-bottom-short.border-right.no-pad.middle.center.h-2-5em t
        -->
      </fieldset>
    </div>
    <div class="vehicle-gear">
      <div class="row-tall border-bottom-long background-tan row-100pc">
        <div class="col-third">
          <div class="row">
            <div class="label-caps">Vehicle Encumbrance</div><span class="input-text" name="attr_vehiclegear_total"></span>
          </div>
          <div class="row">
            <div class="label-caps">Vehicle Carry Limit</div><span class="input-text" name="attr_vehiclecarry_limit"></span>
          </div>
        </div>
      </div>
      <!--.row-tall.border-bottom-long.background-tan
      .col-third.border-right Combat Gear
      .col-third.border-right Backpack
      .col-third Tiny items 
      
      -->
      <div class="row-tall border-bottom-long">
        <div class="col-third no-pad">
          <div class="row-tall row-100pc no-pad">
            <div class="col-twothird border-bottom-short border-right background-tan no-pad middle center h-2-5em">Vehicle Gear</div>
            <div class="col-sixth border-bottom-short border-right background-tan no-pad middle center h-2-5em">Wt</div>
            <div class="col-sixth border-bottom-short border-right background-tan no-pad middle center h-2-5em">#</div>
          </div>
        </div>
      </div>
      <div class="row-tall border-bottom-long">
        <div class="col-third no-pad">
          <fieldset class="repeating_vehiclegear">
            <div class="row-tall row-100pc no-pad border-top-sectioned">
              <div class="col-fill border-right no-pad middle center h-2-5em"> 
                <input class="input-text gear-name center" type="text" name="attr_name"/>
              </div>
              <div class="col-sixth border-right no-pad middle center h-2-5em wide">
                <select class="weight wide" name="attr_weight" value="1">
                  <option value="0.25">0.25</option>
                  <option value="0.5">0.5</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                </select>
              </div>
              <div class="col-sixth border-right no-pad middle center h-2-5em"> 
                <input class="input-number" type="number" name="attr_amount" value="1"/>
              </div>
            </div>
          </fieldset>
        </div>
      </div>
    </div>
  </div>
  <div class="stockpile"></div>
  <div class="notes"></div>
  <div class="action">
    <div class="row-whole row-tall border-bottom-long background-tan">
      <div class="col-fifth border-right">
        <div class="label-caps">Presets</div>
      </div>
      <div class="col-quarter no-marg border-right">
        <div class="label-caps">Dice</div>
      </div>
      <div class="col-55pc">
        <div class="label-caps">Modifiers</div>
      </div>
    </div>
    <div class="row-whole border-all">
      <input class="input-hidden" type="hidden" name="attr_actiontype" hidden="hidden" readonly="readonly"/>
      <input class="input-hidden" type="hidden" name="attr_rangedtype" hidden="hidden" readonly="readonly"/>
      <div class="col-fifth border-right">
        <div class="row-whole flex-row middle top">
          <!--+input-hidden("actiontype","actiontype")-->
          <select class="xxwide actionpresets actionselect" name="attr_actiontype">
            <!--option(disabled,selected,hidden)= "Action type"-->
            <option name="" selected="selected" style="font-weight:bold;">Custom</option>
            <!--optgroup(label="Combat")-->
            <option disabled="disabled" style="font-weight:bold;">Combat</option>
            <option name="" value="Close Combat">&amp;nbsp;&amp;nbsp;&amp;nbsp;Close Combat</option>
            <option name="" value="Ranged Combat">&amp;nbsp;&amp;nbsp;&amp;nbsp;Ranged Combat</option>
            <option name="" value="Heavy Weapon">&amp;nbsp;&amp;nbsp;&amp;nbsp;Heavy Weapon</option>
            <option name="" value="Thrown">&amp;nbsp;&amp;nbsp;&amp;nbsp;Thrown</option>
            <option name="" value="Grenade">&amp;nbsp;&amp;nbsp;&amp;nbsp;Grenade</option>
            <!--optgroup(label="Skills")-->
            <option disabled="disabled" style="font-weight:bold;">Skills</option>
            <option name="" value="Heavy Weapons">&amp;nbsp;&amp;nbsp;&amp;nbsp;Heavy Weapons</option>
            <option name="" value="Melee">&amp;nbsp;&amp;nbsp;&amp;nbsp;Melee</option>
            <option name="" value="Stamina">&amp;nbsp;&amp;nbsp;&amp;nbsp;Stamina</option>
            <option name="" value="Driving">&amp;nbsp;&amp;nbsp;&amp;nbsp;Driving</option>
            <option name="" value="Mobility">&amp;nbsp;&amp;nbsp;&amp;nbsp;Mobility</option>
            <option name="" value="Ranged Combat">&amp;nbsp;&amp;nbsp;&amp;nbsp;Ranged Combat</option>
            <option name="" value="Recon">&amp;nbsp;&amp;nbsp;&amp;nbsp;Recon</option>
            <option name="" value="Survival">&amp;nbsp;&amp;nbsp;&amp;nbsp;Survival</option>
            <option name="" value="Tech">&amp;nbsp;&amp;nbsp;&amp;nbsp;Tech</option>
            <option name="" value="Command">&amp;nbsp;&amp;nbsp;&amp;nbsp;Command</option>
            <option name="" value="Persuasion">&amp;nbsp;&amp;nbsp;&amp;nbsp;Persuasion</option>
            <option name="" value="Medical Aid">&amp;nbsp;&amp;nbsp;&amp;nbsp;Medical Aid</option>
            <!--optgroup(label="Attributes")-->
            <option disabled="disabled" style="font-weight:bold;">Attributes
              <!--option(value="")-->
            </option>
            <option name="" value="Strength">&amp;nbsp;&amp;nbsp;&amp;nbsp;Strength</option>
            <option name="" value="Agility">&amp;nbsp;&amp;nbsp;&amp;nbsp;Agility</option>
            <option name="" value="Intelligence">&amp;nbsp;&amp;nbsp;&amp;nbsp;Intelligence</option>
            <option name="" value="Karisma">&amp;nbsp;&amp;nbsp;&amp;nbsp;Karisma</option>
          </select>
          <select class="xxwide actionpresets rangedtype" name="attr_rangedtype">
            <option disabled="disabled" selected="selected" hidden="hidden">Choose type</option>
            <option name="Handgun" value="Handgun">Handgun</option>
            <option name="Rifle" value="Rifle">Rifle</option>
            <option name="Sniper" value="Sniper">Sniper</option>
            <option name="Machine Gun" value="Machine Gun">Machine Gun</option>
          </select>
        </div>
      </div>
      <div class="col-quarter border-right action-dice">
        <!--.label-caps DICE-->
        <!--+input-attribute("Base die","basedie","caps","Base die").nobordered-->
        <!--+input-attribute("Skill die","skilldie","caps","Skill die").nobordered-->
        <div class="row-whole border-bottom-short">
          <input class="input-hidden" type="hidden" name="attr_actionbasedie" hidden="hidden" readonly="readonly"/>
          <div class="row-whole-nopad flex-row flex1 middle no-marg no-pad center">
            <label class="dice-button-label center">Base dice</label>
          </div>
          <div class="row-whole-nopad flex-row flex1 middle no-marg no-pad center">
            <input class="dice-button numbered-box action-attribute-die D6" type="radio" value="D6" id="actionbasediebuttonD6" name="attr_actionbasedie" title="@{actionbasedie}" hidden="hidden"/>
            <label class="dice-button action-attribute-die D6" for="actionbasediebuttonD6">D6</label>
            <input class="dice-button numbered-box action-attribute-die D8" type="radio" value="D8" id="actionbasediebuttonD8" name="attr_actionbasedie" title="@{actionbasedie}" hidden="hidden"/>
            <label class="dice-button action-attribute-die D8" for="actionbasediebuttonD8">D8</label>
            <input class="dice-button numbered-box action-attribute-die D10" type="radio" value="D10" id="actionbasediebuttonD10" name="attr_actionbasedie" title="@{actionbasedie}" hidden="hidden"/>
            <label class="dice-button action-attribute-die D10" for="actionbasediebuttonD10">D10</label>
            <input class="dice-button numbered-box action-attribute-die D12" type="radio" value="D12" id="actionbasediebuttonD12" name="attr_actionbasedie" title="@{actionbasedie}" hidden="hidden"/>
            <label class="dice-button action-attribute-die D12" for="actionbasediebuttonD12">D12</label>
          </div>
        </div>
        <div class="row-whole border-bottom-short">
          <input class="input-hidden" type="hidden" name="attr_actionskilldie" hidden="hidden" readonly="readonly"/>
          <div class="row-whole-nopad flex-row flex1 middle no-marg no-pad center">
            <label class="dice-button-label center">Skill dice</label>
          </div>
          <div class="row-whole-nopad flex-row flex1 middle no-marg no-pad center">
            <input class="dice-button numbered-box action-no-die" type="radio" value="-" id="actionskilldienone" name="attr_actionskilldie" title="@{actionskilldie}" hidden="hidden"/>
            <label class="dice-button action-no-die" for="actionskilldienone">X</label>
            <input class="dice-button numbered-box action-D6-die D6" type="radio" value="D6" id="actionskilldiebuttonD6" name="attr_actionskilldie" title="@{actionskilldie}" hidden="hidden"/>
            <label class="dice-button action-D6-die D6" for="actionskilldiebuttonD6">D6</label>
            <input class="dice-button numbered-box action-D8-die D8" type="radio" value="D8" id="actionskilldiebuttonD8" name="attr_actionskilldie" title="@{actionskilldie}" hidden="hidden"/>
            <label class="dice-button action-D8-die D8" for="actionskilldiebuttonD8">D8</label>
            <input class="dice-button numbered-box action-D10-die D10" type="radio" value="D10" id="actionskilldiebuttonD10" name="attr_actionskilldie" title="@{actionskilldie}" hidden="hidden"/>
            <label class="dice-button action-D10-die D10" for="actionskilldiebuttonD10">D10</label>
            <input class="dice-button numbered-box action-D12-die D12" type="radio" value="D12" id="actionskilldiebuttonD12" name="attr_actionskilldie" title="@{actionskilldie}" hidden="hidden"/>
            <label class="dice-button action-D12-die D12" for="actionskilldiebuttonD12">D12</label>
          </div>
        </div>
        <div class="row-whole border-bottom-short">
          <!--.row-whole-->
          <div class="label row-fill">Ammo dice</div>
          <input class="input-number" type="number" name="attr_ammodice"/>
        </div>
        <div class="row-whole border-bottom-short">
          <!--.row-whole-->
          <div class="label row-fill">Total modifier</div>
          <input class="input-number" type="number" name="attr_totmodifier"/>
        </div>
        <div class="row-whole right">
          <!--+span-dice("","agility","") -->
          <!--+span-dice("","rangedcombat","") -->
          <!--+span-number("","damage","")-->
          <button class="action-dice-button right">Roll</button>
        </div>
      </div>
      <div class="col-55pc flex-row">
        <div class="row-whole mods closecombatmods border-bottom-short">
          <div class="row-whole border-bottom-long background-tan">
            <div class="label-caps">Close Combat</div>
          </div>
          <div class="row-whole">
            <!--.flex-row+input-field("Test 0",'test0')
            -->
            <!--.flex-row+input-number("Test2","test2","nofill","0","3","narrow")
            -->
            <!--.flex-row+input-value-number("Test2","test2")
            -->
            <div class="flex-row mod">
              <div class="label row-fill">Attacker prone</div>
              <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
            </div>
            <div class="flex-row mod">
              <div class="label row-fill">Target prone</div>
              <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
            </div>
            <div class="flex-row mod">
              <div class="label row-fill">Defenseless target</div>
              <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
            </div>
            <div class="flex-row mod">
              <div class="label row-fill">Aimed blow</div>
              <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
            </div>
            <div class="flex-row mod">
              <div class="label row-fill">Diving blow</div>
              <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
            </div>
          </div>
        </div>
        <div class="row-whole mods rangedcombatmods border-bottom-short">
          <div class="row-whole border-bottom-long background-tan">
            <div class="label-caps">Ranged Combat</div>
          </div>
          <div class="row-whole">
            <div class="row-whole mods aimmods">
              <div class="row-whole headlabel no-marg no-pad border-bottom-short background-tan">
                <div class="label-caps">Attacker modifications</div>
              </div>
              <!--.col-quarter.flex-row+input-field("Test 0",'test0')
              -->
              <!--.col-quarter.flex-row+input-number("Test2","test2","nofill","0","3","narrow")
              -->
              <!--.col-quarter.flex-row+input-value-number("Test2","test2")
              -->
              <div class="flex-row mod no-marg">
                <div class="label row-fill">Quick shot (no aim)</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg">
                <div class="row-whole">
                  <!--.row-whole-->
                  <div class="label">Scope (slow aim)</div>
                  <select class="input-select xxwide" name="test1">
                    <option name="No stabilisation" value="No stabilisation">No stabilisation</option>
                    <option name="Stable stance" value="Stable stance">Stable stance</option>
                  </select>
                </div>
              </div>
              <div class="flex-row mod no-marg">
                <div class="label row-fill">Called shot</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg">
                <div class="label row-fill">Elevated firing position</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg">
                <div class="label row-fill">Firing from moving vehicle</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
            </div>
            <div class="row-whole mods targetmods">
              <div class="row-whole headlabel no-marg no-pad border-bottom-short background-tan">
                <div class="label-caps">Target modifications</div>
              </div>
              <!--.col-quarter.flex-row+input-field("Test 0",'test0')
              -->
              <!--.col-quarter.flex-row+input-number("Test2","test2","nofill","0","3","narrow")
              -->
              <!--.col-quarter.flex-row+input-value-number("Test2","test2")
              -->
              <!--.col-quarter.flex-row+input-check("Test1","test1")
              -->
              <div class="flex-row mod no-marg">
                <div class="row-whole">
                  <!--.row-whole-->
                  <div class="label">Range</div>
                  <select class="input-select xwide" name="test">
                    <option name="Same hex" value="Same hex">Same hex</option>
                    <option name="Short" value="Short">Short</option>
                    <option name="Medium" value="Medium">Medium</option>
                    <option name="Long" value="Long">Long</option>
                    <option name="Extreme" value="Extreme">Extreme</option>
                  </select>
                </div>
              </div>
              <div class="flex-row mod no-marg">
                <div class="label row-fill">Defenseless target</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg">
                <div class="label row-fill">Target prone</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg">
                <div class="label row-fill">Target full cover</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg">
                <div class="label row-fill">Moving target</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg">
                <div class="label row-fill">Large target</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg">
                <div class="label row-fill">Small target</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg">
                <div class="label row-fill">Diving blow</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
            </div>
            <div class="row-whole mods environmods">
              <div class="row-whole headlabel no-marg no-pad border-bottom-short background-tan">
                <div class="label-caps">Environmental modifications</div>
              </div>
              <!--.col-quarter.flex-row+input-field("Test 0",'test0')
              -->
              <!--.col-quarter.flex-row+input-number("Test2","test2","nofill","0","3","narrow")
              -->
              <!--.col-quarter.flex-row+input-value-number("Test2","test2")
              -->
              <!--.col-quarter.flex-row+input-check("Test1","test1")
              -->
              <!--.col-quarter.flex-row+input-select("Range", "test", "xxwide", ['Same hex','Short','Medium','Long','Extreme'], "Select")
              -->
              <div class="flex-row mod no-marg">
                <div class="row-whole">
                  <!--.row-whole-->
                  <div class="label">Target hex terrain</div>
                  <select class="input-select" name="test1">
                    <option name="0" value="0">0</option>
                    <option name="-1" value="-1">-1</option>
                    <option name="-2" value="-2">-2</option>
                  </select>
                </div>
              </div>
              <div class="flex-row mod no-marg">
                <div class="label row-fill">Dim lights</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg">
                <div class="label row-fill">Darkness</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg">
                <div class="label row-fill">Heavy rain or wind</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg">
                <div class="label row-fill">Dense smoke</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
            </div>
          </div>
        </div>
        <div class="row-whole mods socialconflictmods border-bottom-short">
          <div class="row-whole border-bottom-long background-tan">
            <div class="label-caps">Social Conflict</div>
          </div>
          <div class="row-whole">
            <div class="col-half mods instigatormods">
              <div class="row-whole headlabel no-marg no-pad border-bottom-short background-tan">
                <div class="label-caps">Instigator modifications</div>
              </div>
              <!--.col-quarter.flex-row+input-field("Test 0",'test0')
              -->
              <!--.col-quarter.flex-row+input-number("Test2","test2","nofill","0","3","narrow")
              -->
              <!--.col-quarter.flex-row+input-value-number("Test2","test2")
              -->
              <div class="flex-row mod no-marg right">
                <div class="label row-fill" title="">More people on your side</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg right">
                <div class="label row-fill" title="">Doesn’t cost opponent</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg right">
                <div class="label row-fill" title="">Suffered damage or stress</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg right">
                <div class="label row-fill" title="">Opponent is sick</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg right">
                <div class="label row-fill" title="">Opponent is held captive</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg right">
                <div class="label row-fill" title="">Helped opponent previously</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg right">
                <div class="label row-fill" title="">Outrank your opponent</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
              <div class="flex-row mod no-marg right">
                <div class="label row-fill" title="">Present case very well</div>
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
              </div>
            </div>
            <div class="col-half mods opponentmods">
              <div class="row-whole headlabel no-marg no-pad border-bottom-short background-tan">
                <div class="label-caps">Opponent modifications</div>
              </div>
              <!--.col-quarter.flex-row+input-field("Test 0",'test0')
              -->
              <!--.col-quarter.flex-row+input-number("Test2","test2","nofill","0","3","narrow")
              -->
              <!--.col-quarter.flex-row+input-value-number("Test2","test2")
              -->
              <!--.col-quarter.flex-row+input-check("Test1","test1")
              -->
              <div class="flex-row mod-left no-marg">
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
                <div class="label row-fill" title="">More people on their side</div>
              </div>
              <div class="flex-row mod-left no-marg">
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
                <div class="label row-fill" title="">Valuable or dangerous</div>
              </div>
              <div class="flex-row mod-left no-marg">
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
                <div class="label row-fill" title="">Nothing to gain</div>
              </div>
              <div class="flex-row mod-left no-marg">
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
                <div class="label row-fill" title="">Held captive by opponent</div>
              </div>
              <div class="flex-row mod-left no-marg">
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
                <div class="label row-fill" title="">Trouble understanding</div>
              </div>
              <div class="flex-row mod-left no-marg">
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
                <div class="label row-fill" title="">Not in the same hex</div>
              </div>
              <div class="flex-row mod-left no-marg">
                <input class="numbered-box grey-box" type="checkbox" name="attr_test1"/><span title="+"></span>
                <div class="label row-fill" title="">Opponent outranks you</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="stockpile">
    <!--.row-tall.border-bottom-long.background-tan
    .col-third.border-right Combat Gear
    .col-third.border-right Backpack
    .col-third Tiny items 
    -->
    <div class="row-whole border-bottom-long row-100pc no-pad encumbrance">
      <!--.col-third.no-pad
      //+encumbrance-line('Combat Encumbrance','combatgear_total')
      //+encumbrance-line('Armor Encumbrance','armorweight_total')
      //+encumbrance-line('Weapon Encumbrance','weaponweight_total')
      +encumbrance-line('Combat Carry Limit','carrycap_total','carry_limit')
      -->
      <!--.col-third.no-pad
      //+encumbrance-line('Backpack Encumbrance','backpack_total')
      +encumbrance-line('Backpack Carry Limit','backpack_total','carry_limit_backpack')
      -->
      <!--.col-third.no-pad-->
    </div>
    <div class="row-tall border-bottom-long background-tan">
      <div class="col-third no-pad">
        <div class="row-tall row-100pc no-pad">
          <div class="col-fill border-bottom-short border-right background-tan no-pad middle center h-2-5em label-caps">Combat Gear</div>
          <div class="col-sixth border-bottom-short border-right background-tan no-pad middle center h-2-5em wide">Weight</div>
          <div class="col-sixth border-bottom-short border-right background-tan no-pad middle center h-2-5em">#</div>
        </div>
      </div>
      <div class="col-third no-pad">
        <div class="row-tall row-100pc no-pad">
          <div class="col-fill border-bottom-short border-right background-tan no-pad middle center h-2-5em label-caps">Utility Gear</div>
          <div class="col-sixth border-bottom-short border-right background-tan no-pad middle center h-2-5em wide">Weight</div>
          <div class="col-sixth border-bottom-short border-right background-tan no-pad middle center h-2-5em">#</div>
        </div>
      </div>
      <div class="col-third no-pad">
        <div class="row-tall row-100pc no-pad">
          <div class="col-fill border-bottom-short border-right background-tan no-pad middle center h-2-5em label-caps">Other Items</div>
          <div class="col-sixth border-bottom-short border-right background-tan no-pad middle center h-2-5em wide">Weight</div>
          <div class="col-sixth border-bottom-short border-right background-tan no-pad middle center h-2-5em">#</div>
        </div>
      </div>
    </div>
    <div class="row-tall border-bottom-long">
      <div class="col-third no-pad">
        <fieldset class="repeating_stockcombat">
          <!--.row-tall.row-100pc.no-pad
          .col-twothird.border-bottom-short.border-right.no-pad.middle.center.h-2-5em M16
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-twothird.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Knife
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 0.5
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-twothird.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Flak jacket
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-twothird.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Helmet
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-twothird.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Mag M16
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 0.25
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 5
          -->
          <div class="row-tall row-100pc no-pad border-top-sectioned">
            <div class="col-fill border-right no-pad middle center h-2-5em"> 
              <input class="input-text gear-name center" type="text" name="attr_name"/>
            </div>
            <div class="col-sixth border-right no-pad middle center h-2-5em wide">
              <select class="weight wide" name="attr_weight" value="1">
                <option value="0.25">0.25</option>
                <option value="0.5">0.5</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select>
            </div>
            <div class="col-sixth border-right no-pad middle center h-2-5em"> 
              <input class="input-number" type="number" name="attr_amount" value="1"/>
            </div>
          </div>
        </fieldset>
      </div>
      <div class="col-third no-pad">
        <fieldset class="repeating_stockutil">
          <!--.row-tall.row-100pc.no-pad
          .col-twothird.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Mag
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 0.25
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 2
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-twothird.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Handradio
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-twothird.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Flare
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 0.25
          .col-sixth.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 2
          -->
          <div class="row-tall row-100pc no-pad border-top-sectioned">
            <div class="col-fill border-right no-pad middle center h-2-5em"> 
              <input class="input-text gear-name center" type="text" name="attr_name"/>
            </div>
            <div class="col-sixth border-right no-pad middle center h-2-5em wide">
              <select class="weight wide" name="attr_weight" value="1">
                <option value="0.25">0.25</option>
                <option value="0.5">0.5</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select>
            </div>
            <div class="col-sixth border-right no-pad middle center h-2-5em"> 
              <input class="input-number" type="number" name="attr_amount" value="1"/>
            </div>
          </div>
        </fieldset>
      </div>
      <div class="col-third no-pad">
        <fieldset class="repeating_stockother">
          <!--.row-tall.row-100pc.no-pad
          .col-threequarter.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Map
          .col-quarter.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-threequarter.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Crucifix
          .col-quarter.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 1
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-threequarter.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Dollars
          .col-quarter.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 12
          -->
          <!--.row-tall.row-100pc.no-pad
          .col-threequarter.border-bottom-short.border-right.no-pad.middle.center.h-2-5em Kronor
          .col-quarter.border-bottom-short.border-right.no-pad.middle.center.h-2-5em 550
          -->
          <div class="row-tall row-100pc no-pad border-top-sectioned">
            <div class="col-fill border-right no-pad middle center h-2-5em"> 
              <input class="input-text gear-name center" type="text" name="attr_name"/>
            </div>
            <div class="col-sixth border-right no-pad middle center h-2-5em wide">
              <select class="weight wide" name="attr_weight" value="1">
                <option value="0.25">0.25</option>
                <option value="0.5">0.5</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select>
            </div>
            <div class="col-sixth border-right no-pad middle center h-2-5em"> 
              <input class="input-number" type="number" name="attr_amount" value="1"/>
            </div>
          </div>
        </fieldset>
      </div>
    </div>
  </div>
</div>
<rolltemplate class="sheet-rolltemplate-t2k">
  <div class="template-wrap">
    <div class="template-background">
      <div class="template-grid">
        <div class="template-grid-item template-span-six">{{character-name}}</div>
        <div class="template-grid-item template-span-six">{{roll-name}}</div>
        <div class="template-grid-item template-span-six">
                           {{#roll-dice}}
          <div class="template-grid-item template-span-six template-to-the-center">
            <div class="template-yellow">{{roll-dice}}</div>
          </div>
        </div>{{/roll-dice}}
        {{#rollGreater() roll-die-one 0}} <!-- DIE ONE -->
        <div class="template-grid-item template-span-one template-die-one">
          {{#rollWasFumble() roll-die-one}}
          {{#rollTotal() roll-one-type 6}}
          <div class="template-base-six-fail">{{roll-die-one}}</div>{{/rollTotal() roll-one-type 6}}
          {{#rollTotal() roll-one-type 8}}
          <div class="template-base-eight-fail">{{roll-die-one}}</div>{{/rollTotal() roll-one-type 8}}
          {{#rollTotal() roll-one-type 10}}
          <div class="template-base-ten-fail">{{roll-die-one}}</div>{{/rollTotal() roll-one-type 10}}
          {{#rollTotal() roll-one-type 12}}
          <div class="template-base-twelve-fail">{{roll-die-one}}</div>{{/rollTotal() roll-one-type 12}}
          {{/rollWasFumble() roll-die-one}}
          {{#rollBetween() roll-die-one 2 5}}
          {{#rollTotal() roll-one-type 6}}
          <div class="template-base-six-between">{{roll-die-one}}</div>{{/rollTotal() roll-one-type 6}}
          {{#rollTotal() roll-one-type 8}}
          <div class="template-base-eight-between">{{roll-die-one}}</div>{{/rollTotal() roll-one-type 8}}
          {{#rollTotal() roll-one-type 10}}
          <div class="template-base-ten-between">{{roll-die-one}}</div>{{/rollTotal() roll-one-type 10}}
          {{#rollTotal() roll-one-type 12}}
          <div class="template-base-twelve-between">{{roll-die-one}}</div>{{/rollTotal() roll-one-type 12}}
          {{/rollBetween() roll-die-one 2 5}}
          {{#rollBetween() roll-die-one 6 9}}
          {{#rollTotal() roll-one-type 6}}
          <div class="template-base-six-success">{{roll-die-one}}</div>{{/rollTotal() roll-one-type 6}}
          {{#rollTotal() roll-one-type 8}}
          <div class="template-base-eight-success">{{roll-die-one}}</div>{{/rollTotal() roll-one-type 8}}
          {{#rollTotal() roll-one-type 10}}
          <div class="template-base-ten-success">{{roll-die-one}}</div>{{/rollTotal() roll-one-type 10}}
          {{#rollTotal() roll-one-type 12}}
          <div class="template-base-twelve-success">{{roll-die-one}}</div>{{/rollTotal() roll-one-type 12}}
          {{/rollBetween() roll-die-one 6 9}}
          {{#rollBetween() roll-die-one 10 12}}
          {{#rollTotal() roll-one-type 10}}
          <div class="template-base-ten-critical">{{roll-die-one}}</div>{{/rollTotal() roll-one-type 10}}
          {{#rollTotal() roll-one-type 12}}
          <div class="template-base-twelve-critical">{{roll-die-one}}</div>{{/rollTotal() roll-one-type 12}}
          {{/rollBetween() roll-die-one 10 12}}
        </div>{{/rollGreater() roll-die-one 0}}
      </div>{{#rollGreater() roll-die-two 0}} <!-- DIE TWO -->
      <div class="template-grid-item template-span-two template-die-two">
        {{#rollWasFumble() roll-die-two}}
        {{#rollTotal() roll-two-type 6}}
        <div class="template-base-six-fail">{{roll-die-two}}</div>{{/rollTotal() roll-two-type 6}}
        {{#rollTotal() roll-two-type 8}}
        <div class="template-base-eight-fail">{{roll-die-two}}</div>{{/rollTotal() roll-two-type 8}}
        {{#rollTotal() roll-two-type 10}}
        <div class="template-base-ten-fail">{{roll-die-two}}</div>{{/rollTotal() roll-two-type 10}}
        {{#rollTotal() roll-two-type 12}}
        <div class="template-base-twelve-fail">{{roll-die-two}}</div>{{/rollTotal() roll-two-type 12}}
        {{/rollWasFumble() roll-die-two}}
        {{#rollBetween() roll-die-two 2 5}}
        {{#rollTotal() roll-two-type 6}}
        <div class="template-base-six-between">{{roll-die-two}}</div>{{/rollTotal() roll-two-type 6}}
        {{#rollTotal() roll-two-type 8}}
        <div class="template-base-eight-between">{{roll-die-two}}</div>{{/rollTotal() roll-two-type 8}}
        {{#rollTotal() roll-two-type 10}}
        <div class="template-base-ten-between">{{roll-die-two}}</div>{{/rollTotal() roll-two-type 10}}
        {{#rollTotal() roll-two-type 12}}
        <div class="template-base-twelve-between">{{roll-die-two}}</div>{{/rollTotal() roll-two-type 12}}
        {{/rollBetween() roll-die-two 2 5}}
        {{#rollBetween() roll-die-two 6 9}}
        {{#rollTotal() roll-two-type 6}}
        <div class="template-base-six-success">{{roll-die-two}}</div>{{/rollTotal() roll-two-type 6}}
        {{#rollTotal() roll-two-type 8}}
        <div class="template-base-eight-success">{{roll-die-two}}</div>{{/rollTotal() roll-two-type 8}}
        {{#rollTotal() roll-two-type 10}}
        <div class="template-base-ten-success">{{roll-die-two}}</div>{{/rollTotal() roll-two-type 10}}
        {{#rollTotal() roll-two-type 12}}
        <div class="template-base-twelve-success">{{roll-die-two}}</div>{{/rollTotal() roll-two-type 12}}
        {{/rollBetween() roll-die-two 6 9}}
        {{#rollBetween() roll-die-two 10 12}}
        {{#rollTotal() roll-two-type 6}}
        <div class="template-base-six-critical">{{roll-die-two}}</div>{{/rollTotal() roll-two-type 6}}
        {{#rollTotal() roll-two-type 8}}
        <div class="template-base-eight-critical">{{roll-die-two}}</div>{{/rollTotal() roll-two-type 8}}
        {{#rollTotal() roll-two-type 10}}
        <div class="template-base-ten-critical">{{roll-die-two}}</div>{{/rollTotal() roll-two-type 10}}
        {{#rollTotal() roll-two-type 12}}
        <div class="template-base-twelve-critical">{{roll-die-two}}</div>{{/rollTotal() roll-two-type 12}}
        {{/rollBetween() roll-die-two 10 12}}
      </div>{{/rollGreater() roll-die-two 0}}
      {{#rollGreater() ammo-dice 0}} <!-- AMMO DIE ONE -->
      <div class="template-grid-item template-span-one template-ammo-die-one">
            {{#rollWasFumble() ammo-roll-one}}
        <div class="template-ammo-fail">{{ammo-roll-one}}</div>{{/rollWasFumble() ammo-roll-one}}
        {{#rollBetween() ammo-roll-one 2 5}}
        <div class="template-ammo-between">{{ammo-roll-one}}</div>{{/rollBetween() ammo-roll-one 2 5}}
        {{#rollWasCrit() ammo-roll-one}}
        <div class="template-ammo-success">{{ammo-roll-one}}</div>{{/rollWasCrit() ammo-roll-one}}     
      </div>{{/rollGreater() ammo-dice 0}}
      {{#rollGreater() ammo-dice 1}} <!-- AMMO DIE TWO -->
      <div class="template-grid-item template-span-two template-ammo-die-two">{{#rollWasFumble() ammo-roll-two}}
        <div class="template-ammo-fail">{{ammo-roll-two}}</div>{{/rollWasFumble() ammo-roll-two}}
        {{#rollBetween() ammo-roll-two 2 5}}
        <div class="template-ammo-between">{{ammo-roll-two}}</div>{{/rollBetween() ammo-roll-two 2 5}}
        {{#rollWasCrit() ammo-roll-two}}
        <div class="template-ammo-success">{{ammo-roll-two}}</div>{{/rollWasCrit() ammo-roll-two}}      
      </div>{{/rollGreater() ammo-dice 1}}
      {{#rollGreater() ammo-dice 2}} <!-- AMMO DIE THREE -->
      <div class="template-grid-item template-span-three template-ammo-die-three">
             {{#rollWasFumble() ammo-roll-three}}
        <div class="template-ammo-fail">{{ammo-roll-three}}</div>{{/rollWasFumble() ammo-roll-three}}
        {{#rollBetween() ammo-roll-three 2 5}}
        <div class="template-ammo-between">{{ammo-roll-three}}</div>{{/rollBetween() ammo-roll-three 2 5}}
        {{#rollWasCrit() ammo-roll-three}}
        <div class="template-ammo-success">{{ammo-roll-three}}</div>{{/rollWasCrit() ammo-roll-three}}      
      </div>{{/rollGreater() ammo-dice 2}}
      {{#rollGreater() ammo-dice 3}} <!-- AMMO DIE FOUR -->
      <div class="template-grid-item template-span-four template-ammo-die-four">
             {{#rollWasFumble() ammo-roll-four}}
        <div class="template-ammo-fail">{{ammo-roll-four}}</div>{{/rollWasFumble() ammo-roll-four}}
        {{#rollBetween() ammo-roll-four 2 5}}
        <div class="template-ammo-between">{{ammo-roll-four}}</div>{{/rollBetween() ammo-roll-four 2 5}}
        {{#rollWasCrit() ammo-roll-four}}
        <div class="template-ammo-success">{{ammo-roll-four}}</div>{{/rollWasCrit() ammo-roll-four}}      
      </div>{{/rollGreater() ammo-dice 3}}
      {{#rollGreater() ammo-dice 4}} <!-- AMMO DIE FIVE -->
      <div class="template-grid-item template-span-five template-ammo-die-five">
             {{#rollWasFumble() ammo-roll-five}}
        <div class="template-ammo-fail">{{ammo-roll-five}}</div>{{/rollWasFumble() ammo-roll-five}}
        {{#rollBetween() ammo-roll-five 2 5}}
        <div class="template-ammo-between">{{ammo-roll-five}}</div>{{/rollBetween() ammo-roll-five 2 5}}
        {{#rollWasCrit() ammo-roll-five}}
        <div class="template-ammo-success">{{ammo-roll-five}}</div>{{/rollWasCrit() ammo-roll-five}}      
      </div>{{/rollGreater() ammo-dice 4}}
      {{#rollGreater() ammo-dice 5}} <!-- AMMO DIE SIX -->
      <div class="template-grid-item template-span-six template-ammo-die-six">
             {{#rollWasFumble() ammo-roll-six}}
        <div class="template-ammo-fail">{{ammo-roll-six}}</div>{{/rollWasFumble() ammo-roll-six}}
        {{#rollBetween() ammo-roll-six 2 5}}
        <div class="template-ammo-between">{{ammo-roll-six}}</div>{{/rollBetween() ammo-roll-six 2 5}}
        {{#rollWasCrit() ammo-roll-six}}
        <div class="template-ammo-success">{{ammo-roll-six}}</div>{{/rollWasCrit() ammo-roll-six}}      
      </div>{{/rollGreater() ammo-dice 5}}
      {{#current-crit}}
      <div class="template-grid-item template-span-left">Crit: {{current-crit}}   </div>{{/current-crit}}
      {{#current-damage}}
      <div class="template-grid-item template-span-center">Damage: {{current-damage}}     </div>{{/current-damage}}
      {{#current-range}}
      <div class="template-grid-item template-span-right">Range: {{current-range}}  </div>{{/current-range}}
    </div>
  </div>
</rolltemplate>
<script type="text/worker">/**
  Example worker function

on('change:', function() {
  setAttrs({});
});
*/

// VersionController()
// on sheet:opened VersionController(version)
// Upgrade from version 0
//  Repeating weapons
//  Armor 
//  Gear
//  CUF till cuf
//  Manipulation to persuasion
//  


  /* ===== PARAMETERS ==========
  GiGs 'Super Simple Summarizer', modified so that you need to include "repeating_" in the name of the section, 
  which allows to use it for any indexed attribute series with the format [name]_[id]_[field] -- NOT WORKING
  */
 const repeatingSum = (destination, section, fields, multiplier = 1) => {
  if (!Array.isArray(fields)) fields = [fields];
  getSectionIDs(`${section}`, (idArray) => {
    const attrArray = idArray.reduce((m, id) => [...m, ...fields.map((field) => `${section}_${id}_${field}`)], []);
    getAttrs(attrArray, (v) => {
      console.log("values of v: " + JSON.stringify(v));
      // getValue: if not a number, returns 1 if it is 'on' (checkbox), otherwise returns 0..
      const getValue = (section, id, field) => parseFloat(v[`${section}_${id}_${field}`]) || (v[`${section}_${id}_${field}`] === "on" ? 1 : 0);

      const sumTotal = idArray.reduce((total, id) => total + fields.reduce((subtotal, field) => subtotal * getValue(section, id, field), 1), 0);
      setAttrs({
        [destination]: sumTotal * multiplier,
      });
    });
  });
};

/* combat gear encumbrance */
on("change:repeating_combatgear remove:repeating_combatgear sheet:opened", () => {
 console.log("Change Detected: Combat Gear Encumbrance");
 repeatingSum("combatgear_total", "repeating_combatgear", ["weight", "amount"]);
});

/* weapon encumbrance */
on("change:repeating_weapons remove:repeating_weapons sheet:opened", () => {
 console.log("Change Detected: Weapon Encumbrance");
 repeatingSum("weaponweight_total", "repeating_weapons", ["weight"]);
});

/* armor encumbrance */
const armorrating = [["armor_one","armor_one_rating","armor_one_damage"],["armor_two","armor_two_rating","armor_two_damage"],["armor_three","armor_three_rating","armor_three_damage"],["armor_four","armor_four_rating","armor_four_damage"]];
const armorweight = ["armor_one_weight","armor_two_weight","armor_three_weight","armor_four_weight"];
armorrating.forEach( (item) => {
  //console.log("Making sheet worker: "+JSON.stringify(item));  
  on(`change:${item[1]} change:${item[2]}`, () => { // Removed sheet:opened
    getAttrs(item, (values) => {
      //console.log("Change Detected: Armor Rating: "+JSON.stringify(item));
      //console.log("Change Detected: Armor Rating rating: "+parseInt(values[item[1]]));
      //console.log("Change Detected: Armor Rating damage: "+parseInt(values[item[2]]));
      const rating = parseInt(values[item[1]]),
      damage = parseInt(values[item[2]]),
      dmgadj = damage < -rating ? -rating : damage,
      ar = Math.max(rating + damage,0), 
      attr = item[0]+"_ar";
      console.log("Change Detected: Armor Rating: "+attr+" "+ar+" and damage "+dmgadj);
      setAttrs({[attr]: ar,
                [item[2]]: dmgadj},false);
      });
   });
});

armorweight.forEach(item => {
  on(`change:${item} remove:${item} sheet:opened`, () => {
    console.log("Change Detected: Armor Encumbrance: "+JSON.stringify(item));
    //console.log("Armor wigths: "+`${armorweight}`);
    getAttrs(armorweight, (values) => {
      //console.log("Armor weigths: "+ parseFloat(values.armor_one_weight) +" "+ parseFloat(values.armor_two_weight) +" "+ parseFloat(values.armor_three_weight) +" "+ parseFloat(values.armor_four_weight));
      //console.log("Armor weigths by index: "+ parseFloat(values[0]) +" "+ parseFloat(values[1]) +" "+ parseFloat(values[2]) +" "+ parseFloat(values[3]));
      const sum = _.reduce(values, (m,n) => {return parseFloat(m||0)+parseFloat(n||0)}, values[0]);
      //console.log("Armor weigth sum: "+ sum);
      //const sum = parseInt(values[0]) + parseInt(values[1]) + parseInt(values[2]) + parseInt(values[3]);
      setAttrs({armorweight_total: sum});
    });
   });
});

/* Total carry encumbrance */
on("change:armorweight_total change:combatgear_total change:weaponweight_total sheet:opened", function () {
  console.log("Change Detected: Total Gear Encumbrance");
  getAttrs(["armorweight_total","combatgear_total","weaponweight_total","carrycap_total"], (values) => {
    console.log("Change Detected: Total Gear Encumbrance : "+JSON.stringify(values));
    const armor = parseFloat(values.armorweight_total),
    combat = parseFloat(values.combatgear_total),
    weapon = parseFloat(values.weaponweight_total),
    total = parseFloat(armor+combat+weapon);
    console.log("Change Detected: Carrycap_total : "+total);
    setAttrs({carrycap_total: total});
  });
});

/* backpack encumbrance */
on("change:repeating_backpack remove:repeating_backpack sheet:opened", function () {
  console.log("Change Detected: Backpack Gear Encumbrance");
  repeatingSum("backpack_total", "repeating_backpack", ["weight", "amount"]);
});

/* vehicle encumbrance */
on("change:repeating_vehiclegear remove:repeating_vehiclegear sheet:opened", () => {
  console.log("Change Detected: vehicle Gear Encumbrance");
  repeatingSum("vehiclegear_total", "repeating_vehiclegear", ["weight", "amount"]);
});


const buttonlist = ["basic","attributes","weapons","combat","action","gear","vehicle","notes","stockpile"];
buttonlist.forEach(button => {
    on(`clicked:${button}`, function(eventInfo) {
      console.log(JSON.stringify(eventInfo));
        setAttrs({
            sheetTab: button
        });
    });
});


const valueList = ["strength","heavyweapons","closecombat","stamina","agility","driving","mobility","rangedcombat","intelligence","recon","survival","tech","empathy","command","persuasion","medicalaid","cuf","cuf_unit"];
valueList.forEach(value => {
    on(`change:${value} sheet:opened`, function() {  
        getAttrs([`${value}`], function(v) {
          console.log(JSON.stringify(v));
          const rank = v[`${value}`], attribute = `${value}die`;
          const dietype = `${value}dietype`;
          var die = 0, setter = {};
          if (rank == "A") die = 12;
          if (rank == "B") die = 10;
          if (rank == "C") die = 8;
          if (rank == "D") die = 6;
          if (rank == "F") die = '';
          setter[attribute] = die;
          setter[dietype] = die == '' ? "" : "D"+die;
          setAttrs(setter);
        });
    });
});

// Update Hit Capacity
on('change:strengthdie change:agilitydie sheet:opened', () => {
  getAttrs(["strengthdie","agilitydie","hitcapacity"], (values) => {
    console.log(JSON.stringify(values));
    const str = parseInt(values.strengthdie),
    agi = parseInt(values.agilitydie),
    hitcap = Math.ceil(( str + agi ) / 4);
    console.log("HIt capacity calculated: "+hitcap);
    setAttrs({hitcapacity : hitcap});
  });
});

// Update Stress capacity
on('change:intelligencedie change:empathydie sheet:opened', () => {
  getAttrs(["intelligencedie","empathydie","stresscapacity"], (values) => {
    console.log(JSON.stringify(values));
    const int = parseInt(values.intelligencedie),
    emp = parseInt(values.empathydie),
    stresscap = Math.ceil(( int + emp ) / 4);
    console.log("Stress capacity calculated: "+stresscap);
    setAttrs({stresscapacity : stresscap});
  });
});

// Update Carry Limit
on('change:strengthdie sheet:opened', () => {
  getAttrs(["strengthdie","carry_limit","carry_limit_backpack"], (values) => {
    console.log(JSON.stringify(values));
    const str = parseInt(values.strengthdie);
    console.log("Carry limit calculated: "+str);
    setAttrs({carry_limit: str,
              carry_limit_backpack: str});
  });
});
</script>